(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38aa6a2f"],{"0351":function(e,t,a){"use strict";var n=a("a230"),i=a.n(n);i.a},"14b4":function(e,t,a){},"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("d3b7"),a("e6cf");function n(e,t,a,n,i,r,o){try{var s=e[r](o),l=s.value}catch(c){return void a(c)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,a=arguments;return new Promise((function(i,r){var o=e.apply(t,a);function s(e){n(o,i,r,s,l,"next",e)}function l(e){n(o,i,r,s,l,"throw",e)}s(void 0)}))}}},2202:function(e,t,a){},3233:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.initValue}],expression:"[name, {initialValue: initValue}]"}],style:{width:e.width},attrs:{showSearch:"",placeholder:"AdNetwork",size:e.size,disabled:e.disabled,allowClear:!0,showArrow:!1,mode:"multiple",optionLabelProp:"title",maxTagCount:1,maxTagPlaceholder:function(e,t){return"+"+(t.value.length-1)}},on:{change:e.handleChange}},e._l(e.optionList,(function(e){return a("a-select-option",{key:e.id,attrs:{title:e.className}},[a("div",{staticClass:"selected-app-small"},[a("img",{staticStyle:{height:"24px"},attrs:{src:"/logo/"+e.className+".svg"}})])])})),1)],1)},i=[],r=(a("96cf"),a("1da1")),o=a("86b9"),s={name:"OmAdNetworkSelect",props:{width:{type:String,default:"220px"},size:{type:String,default:"default"},name:{type:String,default:"adnId"},defaultValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{initValue:this.defaultValue,optionList:{}}},methods:{handleChange:function(e,t){this.$emit("change",e)},updateSelectList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o["g"])();case 3:a=t.sent,e.optionList=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){this.updateSelectList()}},l=s,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["a"]=d.exports},"32b5":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"MediationEdit"===this.$route.name||"MediationDetails"===this.$route.name?a("div",{staticClass:"placement-info"},[a("div",{staticStyle:{display:"inline-block"}},[a("div",{staticStyle:{color:"#333333","font-size":"14px","margin-bottom":"5px"}},[a("ellipsis",{attrs:{length:26,tooltip:""}},[e._v(e._s(e.searchPlacementName))])],1),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[0===e.searchPlacementType?a("span",[e._v("Banner")]):e._e(),1===e.searchPlacementType?a("span",[e._v("Native")]):e._e(),2===e.searchPlacementType?a("span",[e._v("Rewarded Video")]):e._e(),3===e.searchPlacementType?a("span",[e._v("Interstitial")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("span",{staticStyle:{"margin-left":"-2px"}},[e._v(e._s(e.searchPlacement))])],1)])]):e._e()},i=[],r=a("2af9"),o=a("5880"),s={name:"PageHeaderPlacement",components:{Ellipsis:r["a"]},computed:Object(o["mapState"])({searchPlacement:function(e){return e.publisher.searchPlacement},searchPlacementName:function(e){return e.publisher.searchPlacementName},searchPlacementType:function(e){return e.publisher.searchPlacementType}})},l=s,c=(a("0351"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"0a5ea428",null);t["a"]=d.exports},"3e71":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{laout:"inline"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.modelName,{initialValue:e.initValue}],expression:"[modelName, {initialValue: initValue}]"}],style:{width:e.width},attrs:{showSearch:"",placeholder:"Instance",size:"default",disabled:e.disabled,mode:e.mode,showArrow:!1,allowClear:"",optionLabelProp:"title",filterOption:e.instanceFilterOption},on:{change:e.handleChange}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("div",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("div",{staticStyle:{color:"#333333","font-size":"14px"}},[a("ellipsis",{attrs:{length:20}},[e._v(e._s(t.name))])],1),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[a("ellipsis",{attrs:{length:26}},[e._v(e._s(t.placementKey))])],1)]),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.placementKey+" "+t.name))])])})),1)],1)},i=[],r=(a("c975"),a("a9e3"),a("2af9")),o=a("86b9"),s={name:"OmInstanceSelect",components:{Ellipsis:r["a"]},props:{modelName:{type:String,default:"instanceId"},width:{type:String,default:"220px"},mode:{type:String,default:"default"},defaultValue:{type:Array,default:function(){return[]}},placementId:{type:Number,default:null},hb:{type:Number,default:null},adnAppId:{type:Number,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{data:[],initValue:this.defaultValue}},methods:{handleChange:function(e,t){this.$emit("change",e),this.$emit("instanceSelecteChange",e)},instanceFilterOption:function(e,t){return t.componentOptions.children[1].children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},setOptions:function(){var e=this,t=this.$store.state.publisher.searchApp;if(!this.data||0===this.data.length){var a={pubAppId:t,placementId:this.placementId};null!==this.adnAppId&&(a.adNetworkAppId=this.adnAppId),null!==this.hb&&(a.headBid=this.hb),Object(o["k"])(a).then((function(t){0===t.code&&(e.data=t.data)}))}},upload:function(){var e=this,t=this.$store.state.publisher.searchApp,a={pubAppId:t,placementId:this.placementId};null!==this.adnAppId&&(a.adNetworkAppId=this.adnAppId),Object(o["k"])(a).then((function(t){0===t.code&&(e.data=t.data)}))}},created:function(){this.setOptions()},watch:{hb:function(e){this.setOptions()}}},l=s,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,"15ccb522",null);t["a"]=d.exports},"3fc1":function(e,t,a){},"490b":function(e,t,a){},"57a9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["regions"],expression:"['regions']"}],attrs:{showSearch:"",value:e.value,dropdownStyle:{maxHeight:"300px",overflow:"auto"},placeholder:"Regions",allowClear:"",size:e.size,disabled:e.disabled,multiple:!0,treeCheckable:!0,treeData:e.treeData,treeNodeLabelProp:"value",filterTreeNode:e.filterTreeNode,maxTagCount:e.maxTagCount,maxTagPlaceholder:function(e){return"+"+e.length},treeDefaultExpandAll:""},on:{change:e.onChange}})},i=[],r=(a("c740"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("a434"),a("b0c0"),a("a9e3"),a("b64b"),a("2532"),a("159b"),a("5880")),o=a("86b9"),s={name:"OmRegionsSelect",data:function(){return{treeExpandedKeys:[],value:this.defaultSelected,treeData:[]}},props:{size:{type:String,default:"default"},defaultSelected:{type:Array,default:null},maxTagCount:{type:Number,default:2},disabled:{type:Boolean,default:!1},ignoreApp:{type:Boolean,default:!1}},created:function(){this.value&&this.value.indexOf("00")>-1&&(this.value.splice(this.value.indexOf("00"),1),this.value.push("ALL")),this.updateRegions(this.selectedPubAppId)},computed:Object(r["mapState"])({selectedPubAppId:function(e){return e.publisher.searchApp}}),watch:{selectedPubAppId:function(e){this.updateRegions(e)},defaultSelected:function(e){this.value=e}},methods:{onChange:function(e){if(!this.value)return this.value=e,void this.$emit("change",e);!this.value.includes("ALL")&&e.includes("ALL")?(this.value=["ALL"],this.$emit("change",["ALL"])):this.value.includes("ALL")&&e.length>1?(e.splice(e.findIndex((function(e){return"ALL"===e})),1),this.value=e,this.$emit("change",e)):(this.value=e,this.$emit("change",e))},buildNode:function(e){return{key:e.a2,title:e.a2+" - "+e.name,value:e.a2,text:[e.a2,e.a3,e.name].join(" ").toLowerCase()}},updateRegions:function(e){var t=this,a={pubAppId:e};if(this.ignoreApp)delete a.pubAppId;else if(!e)return;Object(o["r"])(a).then((function(e){var a=e.data,n=a.top,i=a.all,r={},o={};n.forEach((function(e){r[e.a2]=!0})),i.forEach((function(e){r[e.a2]||(o[e.tier]||(o[e.tier]=[]),o[e.tier].push(t.buildNode(e)))}));var s=[{title:"ALL",key:"ALL",value:"ALL"}];s.push({title:"TOP5",key:"TOP5",value:"TOP5",children:n.map(t.buildNode)}),Object.keys(o).sort().forEach((function(e){s.push({title:"Tier"+e,key:e,value:e,children:o[e]})})),t.treeData=s}))},filterTreeNode:function(e,t){var a=t.componentOptions.propsData.dataRef.text;return a&&a.indexOf(e.toLowerCase())>-1}}},l=s,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,null,null);t["a"]=d.exports},7052:function(e,t,a){"use strict";var n=a("14b4"),i=a.n(n);i.a},"73c8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllChildren=t.getAllProps=t.getSlot=t.getSlots=t.camelize=t.isValidElement=t.initDefaultProps=t.parseStyleText=t.getValueByProp=t.getAttrs=t.getKey=t.getPropsData=t.slotHasProp=t.getSlotOptions=t.getComponentFromProp=t.getOptionProps=t.filterProps=t.hasProp=void 0;var n=a("1098"),i=h(n),r=a("b24f"),o=h(r),s=a("41b2"),l=h(s);t.getEvents=T,t.getClass=E,t.getStyle=V,t.getComponentName=L,t.isEmptyElement=j,t.filterEmpty=$,t.mergeProps=M;var c=a("60ed"),d=h(c),u=a("4d26"),p=h(u);function h(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}var m=/-(\w)/g,g=function(e){return e.replace(m,(function(e,t){return t?t.toUpperCase():""}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],a={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(i);if(n.length>1){var r=t?g(n[0].trim()):n[0].trim();a[r]=n[1].trim()}}})),a},b=function(e,t){var a=e.$options||{},n=a.propsData||{};return t in n},y=function(e,t){var a=e.componentOptions||{},n=a.propsData||{};return t in n},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={};return Object.keys(e).forEach((function(n){(n in t||void 0!==e[n])&&(a[n]=e[n])})),a},w=function(e){return e.data&&e.data.scopedSlots||{}},S=function(e){var t=e.componentOptions||{};e.$vnode&&(t=e.$vnode.componentOptions||{});var a=e.children||t.children||[],n={};return a.forEach((function(e){if(!j(e)){var t=e.data&&e.data.slot||"default";n[t]=n[t]||[],n[t].push(e)}})),(0,l["default"])({},n,w(e))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.$scopedSlots&&e.$scopedSlots[t]&&e.$scopedSlots[t](a)||e.$slots[t]||[]},C=function(e){var t=e.componentOptions||{};return e.$vnode&&(t=e.$vnode.componentOptions||{}),e.children||t.children||[]},k=function(e){if(e.fnOptions)return e.fnOptions;var t=e.componentOptions;return e.$vnode&&(t=e.$vnode.componentOptions),t&&t.Ctor.options||{}},A=function(e){if(e.componentOptions){var t=e.componentOptions,a=t.propsData,n=void 0===a?{}:a,i=t.Ctor,r=void 0===i?{}:i,s=(r.options||{}).props||{},c={},d=!0,u=!1,p=void 0;try{for(var h,m=Object.entries(s)[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var g=h.value,v=(0,o["default"])(g,2),b=v[0],y=v[1],w=y["default"];void 0!==w&&(c[b]="function"===typeof w&&"Function"!==f(y.type)?w.call(e):w)}}catch(A){u=!0,p=A}finally{try{!d&&m["return"]&&m["return"]()}finally{if(u)throw p}}return(0,l["default"])({},c,n)}var S=e.$options,O=void 0===S?{}:S,C=e.$props,k=void 0===C?{}:C;return x(k,O.propsData)},P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.$createElement){var i=e.$createElement,r=e[t];return void 0!==r?"function"===typeof r&&n?r(i,a):r:e.$scopedSlots[t]&&n&&e.$scopedSlots[t](a)||e.$scopedSlots[t]||e.$slots[t]||void 0}var o=e.context.$createElement,s=R(e)[t];if(void 0!==s)return"function"===typeof s&&n?s(o,a):s;var l=w(e)[t];if(void 0!==l)return"function"===typeof l&&n?l(o,a):l;var c=[],d=e.componentOptions||{};return(d.children||[]).forEach((function(e){e.data&&e.data.slot===t&&(delete e.data.attrs.slot,"template"===e.tag?c.push(e.children):c.push(e))})),c.length?c:void 0},_=function(e){var t=e.data||{},a=e.componentOptions||{};return e.$vnode&&(t=e.$vnode.data||{},a=e.$vnode.componentOptions||{}),(0,l["default"])({},t.props,t.attrs,a.propsData)},R=function(e){var t=e.componentOptions;return e.$vnode&&(t=e.$vnode.componentOptions),t&&t.propsData||{}},D=function(e,t){return R(e)[t]},I=function(e){var t=e.data;return e.$vnode&&(t=e.$vnode.data),t&&t.attrs||{}},N=function(e){var t=e.key;return e.$vnode&&(t=e.$vnode.key),t};function T(e){var t={};return e.componentOptions&&e.componentOptions.listeners?t=e.componentOptions.listeners:e.data&&e.data.on&&(t=e.data.on),(0,l["default"])({},t)}function E(e){var t={};e.data?t=e.data:e.$vnode&&e.$vnode.data&&(t=e.$vnode.data);var a=t["class"]||{},n=t.staticClass,i={};return n&&n.split(" ").forEach((function(e){i[e.trim()]=!0})),"string"===typeof a?a.split(" ").forEach((function(e){i[e.trim()]=!0})):Array.isArray(a)?(0,p["default"])(a).split(" ").forEach((function(e){i[e.trim()]=!0})):i=(0,l["default"])({},i,a),i}function V(e,t){var a={};e.data?a=e.data:e.$vnode&&e.$vnode.data&&(a=e.$vnode.data);var n=a.style||a.staticStyle;if("string"===typeof n)n=v(n,t);else if(t&&n){var i={};return Object.keys(n).forEach((function(e){return i[g(e)]=n[e]})),i}return n}function L(e){return e&&(e.Ctor.options.name||e.tag)}function j(e){return!(e.tag||e.text&&""!==e.text.trim())}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return!j(e)}))}var F=function(e,t){return Object.keys(t).forEach((function(a){if(!e[a])throw new Error("not have "+a+" prop");e[a].def&&(e[a]=e[a].def(t[a]))})),e};function M(){var e=[].slice.call(arguments,0),t={};return e.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=!0,n=!1,i=void 0;try{for(var r,s=Object.entries(e)[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var c=r.value,u=(0,o["default"])(c,2),p=u[0],h=u[1];t[p]=t[p]||{},(0,d["default"])(h)?(0,l["default"])(t[p],h):t[p]=h}}catch(f){n=!0,i=f}finally{try{!a&&s["return"]&&s["return"]()}finally{if(n)throw i}}})),t}function U(e){return e&&"object"===("undefined"===typeof e?"undefined":(0,i["default"])(e))&&"componentOptions"in e&&"context"in e&&void 0!==e.tag}t.hasProp=b,t.filterProps=x,t.getOptionProps=A,t.getComponentFromProp=P,t.getSlotOptions=k,t.slotHasProp=y,t.getPropsData=R,t.getKey=N,t.getAttrs=I,t.getValueByProp=D,t.parseStyleText=v,t.initDefaultProps=F,t.isValidElement=U,t.camelize=g,t.getSlots=S,t.getSlot=O,t.getAllProps=_,t.getAllChildren=C,t["default"]=b},"7d3d":function(e,t,a){"use strict";var n=a("2202"),i=a.n(n);i.a},"7fd0":function(e,t,a){},8148:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tabs",{staticClass:"mytabs",attrs:{defaultActiveKey:"1"}},[a("a-tab-pane",{key:"1",attrs:{tab:"Performance"}},[a("Performance")],1),a("a-tab-pane",{key:"2",attrs:{tab:"User Activity"}},[a("UserActivity")],1),a("a-tab-pane",{key:"3",attrs:{tab:"Reporting Builder"}},[a("ReportBuilder")],1)],1)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{layout:"inline",form:e.form}},[a("om-pub-app-select",{attrs:{width:"200px"}}),a("a-form-item",[a("om-regions-select",{staticStyle:{width:"161px"},attrs:{maxTagCount:1,ignoreApp:!0},on:{change:e.countryChange}})],1),a("om-placement-select-simple",{attrs:{form:e.form,width:"200px"}}),a("om-ad-network-select",{attrs:{width:"200px"}}),a("a-form-item",[a("a-button",{staticStyle:{width:"84px"},attrs:{ghost:"",type:"primary"},on:{click:e.handleApply}},[e._v("Apply")])],1),a("om-report-date-picker")],1),a("div",{staticStyle:{"background-color":"white","margin-top":"16px",padding:"16px"}},[a("a-select",{staticStyle:{width:"220px","margin-bottom":"16px"},attrs:{showSearch:"",placeholder:"Breakdown",showArrow:!1,optionLabelProp:"title",defaultValue:e.chartGroupBy},on:{change:e.handleDim4ChartChange}},e._l(e.dimList4Chart,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("om-report-chart",{attrs:{title:"Impressions",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"impr","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:12}},[a("om-report-chart",{attrs:{title:"eCPM",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"ecpm","y-format":"$0,0.000","group-by":e.chartGroupViewDim}})],1)],1),a("a-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("om-report-chart",{attrs:{title:"Revenue",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"cost","y-format":"$0,0","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:12}},[a("om-report-chart",{attrs:{title:"Request",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"request","group-by":e.chartGroupViewDim}})],1)],1)],1),a("div",{staticStyle:{"background-color":"white","margin-top":"16px",padding:"16px"}},[a("a-select",{staticStyle:{width:"240px","margin-bottom":"16px"},attrs:{showSearch:"",placeholder:"Breakdown",mode:"multiple",maxTagCount:1,allowClear:!1,optionLabelProp:"title",value:e.table.dimension},on:{change:e.handleDim4TableChange}},e._l(e.dimList4Table,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a-select",{staticStyle:{width:"304px",margin:"0 0 16px 16px"},attrs:{showSearch:"",placeholder:"Metrics",mode:"multiple",maxTagCount:2,allowClear:!0,showArrow:!1,optionLabelProp:"title",value:e.table.metric},on:{change:e.handleMetricsChange}},e._l(e.supportedMetrics,(function(t,n){return a("a-select-option",{key:n,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a",{staticStyle:{float:"right","margin-right":"16px"},attrs:{disabled:0===e.table.data.length},on:{click:e.handleDownload}},[e._v("CSV")]),e.table.data.length?a("a-table",{staticClass:"ant-card-table-default",attrs:{scroll:{x:!0},loading:e.table.loading,dataSource:e.table.data,columns:e.table.columns,"row-key":"id",pagination:!1}}):a("div",{staticClass:"performance_no_data"},[a("div",{staticClass:"no_data"},[a("div",[e._v("No data available")]),a("div",[e._v("Try changing your filters")])])])],1)],1)},o=[],s=(a("4160"),a("caad"),a("a15b"),a("d81d"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("2b3d"),a("2af9")),l=a("3233"),c=a("57a9"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"inline",float:"right"}},[a("svg",{staticStyle:{margin:"5px 4px 0 0"},attrs:{width:"4",height:"32",viewBox:"0 0 4 32",fill:"none"}},[a("circle",{attrs:{cx:"2",cy:"4",r:"2",fill:"#E5E7EA"}}),a("circle",{attrs:{cx:"2",cy:"12",r:"2",fill:"#E5E7EA"}}),a("circle",{attrs:{cx:"2",cy:"20",r:"2",fill:"#E5E7EA"}}),a("circle",{attrs:{cx:"2",cy:"28",r:"2",fill:"#E5E7EA"}})]),a("a-form-item",{staticStyle:{"margin-right":"0"}},[a("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["dateRange"],expression:"['dateRange']"}],staticClass:"om-date-picker",attrs:{allowClear:!1,"disabled-date":e.disabledDate,ranges:e.ranges,format:"YYYY-MM-DD"}})],1)],1)},u=[],p=a("c1df"),h=a.n(p);function f(){return h()().utc()}var m=f().add(-3,"M").startOf("d"),g=f().endOf("d"),v={name:"OmReportDatePicker",methods:{disabledDate:function(e){return e&&(e<m||e>g)}},data:function(){return{ranges:{Today:[f().startOf("d"),g],"This Week":[f().startOf("W"),g],"This Month":[f().startOf("M"),g],"7 Days":[f().add(-7,"d"),g],"1Month":[f().add(-1,"M"),g]},defaultValue:[f().add(-7,"d"),g]}},created:function(){this.$options.parent.form.getFieldDecorator("dateRange",{initialValue:this.defaultValue})}},b=v,y=(a("f60c"),a("2877")),x=Object(y["a"])(b,d,u,!1,null,"38463d46",null),w=x.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.initValue}],expression:"[name, {initialValue: initValue}]"}],style:{width:e.width},attrs:{placeholder:"Apps",size:e.size,allowClear:!0,disabled:e.disabled,mode:"multiple",maxTagTextLength:10,showArrow:!1,maxTagCount:1,maxTagPlaceholder:function(e,t){return"+"+(t.value.length-1)},optionLabelProp:"title",filterOption:e.filterOption,dropdownMatchSelectWidth:!1},on:{change:e.handleChange}},e._l(e.appList,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.appName}},[a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.appName+"-"+t.id+"-"+t.appId))]),a("div",{staticClass:"selected-app-small"},[a("img",{staticStyle:{width:"24px",height:"24px"},attrs:{src:t.icon||(0===t.plat?"/iOS-40.svg":"/Android-40.svg")}}),a("div",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"8px"}},[a("div",{staticStyle:{color:"#333333","font-size":"12px","line-height":"14px"}},[a("ellipsis",{attrs:{length:26,tooltip:""}},[e._v(e._s(t.appName))])],1),a("div",{staticStyle:{color:"#999999","font-size":"10px","line-height":"14px"}},[1===t.plat?a("img",{staticClass:"plat-icon",attrs:{src:"/Android-40.svg"}}):a("img",{staticClass:"plat-icon",attrs:{src:"/iOS-40.svg"}}),a("ellipsis",{attrs:{length:36,tooltip:""}},[e._v(e._s(t.appId))])],1)])])])})),1)],1)},O=[],C=(a("c975"),a("a9e3"),a("96cf"),a("1da1")),k=a("283f"),A={name:"OmPubAppSelect",props:{appId:{type:String,default:""},name:{type:String,default:"pubAppId"},defaultValue:{type:[Number,Array],default:function(){return[]}},width:{type:String,default:"220px"},size:{type:String,default:"default"},disabled:{type:Boolean,default:!1}},components:{Ellipsis:s["a"]},data:function(){return{initValue:this.defaultValue,appList:{}}},methods:{handleChange:function(e){this.$emit("change",e)},filterOption:function(e,t){return t.componentOptions.children[0].children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}},created:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k["a"])();case 3:a=t.sent,e.appList=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},P=A,_=(a("9d4c"),Object(y["a"])(P,S,O,!1,null,"353ce9d4",null)),R=_.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.initValue}],expression:"[name, {initialValue: initValue}]"}],style:{width:e.width},attrs:{showSearch:"",placeholder:"Placement",mode:"multiple",disabled:e.disabled,maxTagCount:1,showArrow:!1,maxTagTextLength:10,maxTagPlaceholder:function(e,t){return"+"+(t.value.length-1)},allowClear:"",optionLabelProp:"title",filterOption:e.filterOption},on:{change:e.handleChange}},e._l(this.plcList,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.name+"-"+t.id))]),a("om-placement-info",{attrs:{type:t.adType,name:t.name,id:t.id}})],1)})),1)],1)},I=[],N=a("cda8"),T={name:"OmPlacementSelectSimple",components:{Ellipsis:s["a"],OmPlacementInfo:N["a"]},props:{width:{type:String,default:"220px"},name:{type:String,default:"placementId"},defaultValue:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{initValue:this.defaultValue,plcList:{}}},methods:{handleChange:function(e){this.$emit("change",e)},filterOption:function(e,t){return t.componentOptions.children[0].children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}},created:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k["k"])();case 3:a=t.sent,e.plcList=a.data,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},E=T,V=Object(y["a"])(E,D,I,!1,null,null,null),L=V.exports,j=(a("00ce"),a("3e71")),$=(a("32b5"),a("a444"),a("d5d5"),a("dda2")),F=a("1c31"),M=a("d938"),U=a("7e03"),B=a("43e2"),q=a("a020");U["a"].register("currency",B["a"]),U["a"].register("percent",q["a"]);var K={day:"Day",country:"Regions",placementId:"Placements",adnId:"AdNetworks",pubAppId:"Apps",instanceId:"Instance"},G={pubAppId:"pubAppName",placementId:"placementName",adnId:"adnName",instanceId:"instanceName"},Y={name:"OmPerformanceReport",components:{OmPubAppSelect:R,OmReportChart:$["a"],OmAdNetworkSelect:l["a"],OmReportDatePicker:w,OmRegionsSelect:c["a"],OmPlacementSelectSimple:L,Ellipsis:s["a"]},data:function(){return{form:this.$form.createForm(this),country:[],metricFields:{request:"waterfallRequest",filled:"waterfallFilled",click:"apiClick",impr:"apiImpr"},supportedMetrics:{request:{title:"Requests"},filled:{title:"Fills"},fillRate:{title:"FillRate",format:"0.00 %"},click:{title:"Clicks"},impr:{title:"Impressions"},ctr:{title:"CTR",format:"0.00 %"},cost:{title:"Revenue",format:"$ 0,0.00"},ecpm:{title:"eCPM",format:"$ 0,0.00"},isReady:{title:"Ad-Availability Check"},isReadyTrue:{title:"Ad-Availability Response"},readyRate:{title:"Ad-Availability Rate",format:"0.00 %"}},dimList4Chart:this.filterDim("pubAppId","country","adnId"),dimList4Table:this.filterDim("day","country","pubAppId","placementId","adnId","instanceId"),loading:!1,chartGroupBy:"pubAppId",chartData:[],table:{loading:!1,dimension:["day"],metric:["impr","cost"],data:[],columns:[]}}},mounted:function(){this.reloadChart(),this.reloadTable("dimension")},computed:{chartGroupViewDim:function(){return G[this.chartGroupBy]||this.chartGroupBy}},methods:{filterDim:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e){return{id:e,title:K[e]}}))},countryChange:function(e){this.country=e},handleApply:function(){this.reloadChart(),this.reloadTable("dimension")},handleDim4ChartChange:function(e){this.chartGroupBy=e,this.reloadChart()},handleDim4TableChange:function(e){this.table.dimension=e,this.reloadTable("dimension")},handleMetricsChange:function(e){this.table.metric=e,this.reloadTable("metric")},buildBaseParams:function(){var e=this.form.getFieldsValue();return e.dateBegin=e.dateRange[0].format("YYYY-MM-DD"),e.dateEnd=e.dateRange[1].format("YYYY-MM-DD"),delete e.dateRange,e.country=this.country,e.type=["lr","api"],e.dimension=["day",this.chartGroupBy],e.adnId&&e.adnId.length?(this.metricFields.request="instanceRequest",this.metricFields.filled="instanceFilled"):(this.metricFields.request="waterfallRequest",this.metricFields.filled="waterfallFilled"),e},reloadChart:function(){var e=this,t=this.buildBaseParams();this.loading=!0,Object(F["e"])(t).then((function(t){t.code||("waterfallRequest"===e.metricFields.request&&"adnId"===e.chartGroupBy&&(e.metricFields.request="instanceRequest",e.metricFields.filled="instanceFilled"),e.chartData=t.data.map(e.mapMetrics))})).finally((function(t){e.loading=!1}))},reloadTable:function(e){var t=this,a=this.table,n=a.dimension,i=a.metric;if(0===i.length)return this.table.columns=[],void(this.table.data=[]);var r=this.buildBaseParams();r.dimension=n,r.metric=i;var o=n.map((function(e){var t=G[e]||e;return{title:K[e],dataIndex:t,sorter:function(e,a){return e[t].localeCompare(a[t])}}}));i.forEach((function(e){var a=t.supportedMetrics[e];a.format||(a.format="0,0"),o.push({title:a.title,dataIndex:e,customRender:function(e,t,n){return Object(U["a"])(e,a.format)},sorter:function(t,a){return t[e]-a[e]}})})),this.table.columns=o,0!==this.table.data.length&&"dimension"!==e||(this.table.loading=!0,Object(F["e"])(r).then((function(e){e.code||((n.includes("adnId")||n.includes("instanceId"))&&(t.metricFields.request="instanceRequest",t.metricFields.filled="instanceFilled"),t.table.data=e.data.map(t.mapMetrics))})).finally((function(e){t.table.loading=!1})))},mapMetrics:function(e){return e.id=Object(M["generateUUID"])(),e.request=e[this.metricFields.request],e.filled=e[this.metricFields.filled],e.click=e[this.metricFields.click],e.impr=e[this.metricFields.impr],e.fillRate=e.ctr=0,e.filled>0&&(e.fillRate=e.filled/e.request),e.click>0&&(e.ctr=e.click/e.impr),e.impr>0&&(e.ecpm=1e3*e.cost/e.impr),e.isReady=e.isReadyTrue+e.isReadyFalse,e.isReadyTrue>0&&(e.readyRate=e.isReadyTrue/e.isReady),e},handleDownload:function(){var e=this,t=this.table.columns.map((function(e){return e.title})).join(","),a=this.table.data.map((function(t){return e.table.columns.map((function(e){return t[e.dataIndex]})).join(",")})).join("\n"),n=new Blob([t+"\n"+a],{type:"text/csv,charset=UTF-8"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download="download.csv",i.click(),URL.revokeObjectURL(i.href)}}},z=Y,W=(a("bc0f"),Object(y["a"])(z,r,o,!1,null,"7552f4b4",null)),H=W.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"16px",height:"32px"}},[a("a-button",{staticStyle:{float:"right"},attrs:{type:"primary",disabled:e.disableEdit||e.table.data.length>9},on:{click:function(t){return e.handleAdd()}}},[e._v("Add Reporting")])],1),a("a-form",{attrs:{form:e.form}},[a("a-table",{staticClass:"ant-card-table-default",staticStyle:{"background-color":"white"},attrs:{scroll:{x:!0},loading:e.loading,dataSource:e.table.data,columns:e.table.columns,"row-key":"id",expandedRowKeys:e.table.expandedRowKeys,expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"name",fn:function(t,n){return a("span",{},[n.editing?a("a-form-item",[a("a-input",{attrs:{required:""},model:{value:n.name,callback:function(t){e.$set(n,"name","string"===typeof t?t.trim():t)},expression:"row.name"}})],1):a("span",[e._v(e._s(n.name))])],1)}},{key:"dataSource",fn:function(t,n){return a("span",{},[n.editing?a("a-form-item",[a("a-select",{attrs:{showArrow:!1},model:{value:n.dataSource,callback:function(t){e.$set(n,"dataSource",t)},expression:"row.dataSource"}},e._l(e.dataSourceArray,(function(t,n){return n?a("a-select-option",{key:n},[e._v(e._s(t))]):e._e()})),1)],1):a("span",[e._v(e._s(e.dataSourceArray[n.dataSource]))])],1)}},{key:"recipients",fn:function(t,n){return a("span",{},[n.editing?a("a-form-item",[a("a-input",{model:{value:n.recipients,callback:function(t){e.$set(n,"recipients","string"===typeof t?t.trim():t)},expression:"row.recipients"}})],1):a("span",[e._v(e._s(n.recipients))])],1)}},{key:"schedule",fn:function(t,n){return a("span",{},[n.editing?a("a-form-item",[a("a-cascader",{attrs:{options:e.scheduleOptions,allowClear:!1,showArrow:!1,expandTrigger:"hover",changeOnSelect:!0},on:{change:function(t){return e.handleScheduleChange(t,n)}},model:{value:n.schedule,callback:function(t){e.$set(n,"schedule",t)},expression:"row.schedule"}})],1):a("span",[e._v(e._s(2===n.schedule[0]?e.scheduleTypes[2]+" / "+e.weekDays[n.schedule[1]]:e.scheduleTypes[n.schedule[0]]))])],1)}},{key:"nextExecuteTime",fn:function(t,n){return a("span",{},[a("span",[e._v(e._s(e.renderNextExecuteTime(n)))])])}},{key:"status",fn:function(t){return a("span",{},[a("span",{style:{color:["#D5432F","green"][t]}},[e._v(e._s(e.statusArray[t]))])])}},{key:"action",fn:function(t,n){return a("span",{},[n.editing?a("div",[a("a",{on:{click:function(t){return e.handleSave(n)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleCancel(n)}}},[e._v("Cancel")]),a("a",{staticStyle:{float:"right"},on:{click:function(t){return e.handleCancel(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})])],1):n.expand||!e.disableEdit?a("div",[a("a",{on:{click:function(t){return e.handleEdit(n)}}},[e._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),0===n.status?a("a",{on:{click:function(t){return e.handleStatusUpdate(n,1)}}},[e._v("Run")]):e._e(),1===n.status?a("a",{on:{click:function(t){return e.handleStatusUpdate(n,0)}}},[e._v("Stop")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"Are you sure test this Reporting?",okText:"Yes",cancelText:"No"},on:{confirm:function(t){return e.handleTest(n)}}},[a("a",[e._v("Test")])]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"Are you sure remove this Reporting?",okText:"Yes",cancelText:"No"},on:{confirm:function(t){return e.handleRemove(n)}}},[a("a",[e._v("Remove")])]),a("a",{staticStyle:{float:"right"},on:{click:function(t){return e.handleExpand(n)}}},[n.expand?a("img",{attrs:{src:"/assets/up.svg"}}):a("img",{attrs:{src:"/assets/down.svg"}})])],1):e._e()])}},{key:"expandedRowRender",fn:function(t){return a("span",{},[a("div",{staticStyle:{margin:"16px 0 0 8px"}},[a("div",{staticStyle:{"font-weight":"bold","font-size":"16px","margin-bottom":"18px"}},[e._v("Breakdown")]),a("a-row",{attrs:{gutter:8}},e._l(e.dimensions[t.dataSource],(function(n,i){return a("a-col",{key:i,attrs:{span:24/e.dimensions[t.dataSource].length}},[a("a-select",{attrs:{placeholder:"Column"+(i+1),allowClear:!0,showArrow:!1,disabled:!t.editing,value:t.dimensions[i]},on:{change:function(a){return e.handleDimensionChange(a,i,t)}}},e._l(e.dimensions[t.dataSource],(function(n){return a("a-select-option",{key:n.key,attrs:{disabled:t.dimSelected[n.key]}},[e._v(e._s(n.title))])})),1)],1)})),1),a("a-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:8}},e._l(e.dimensions[t.dataSource],(function(n,i){return a("a-col",{key:i,attrs:{span:24/e.dimensions[t.dataSource].length}},["day"===t.dimensions[i]?a("a-select",{attrs:{placeholder:"Date",showArrow:!1,disabled:!t.editing||3===t.schedule[0]},model:{value:t.condDayPeriod,callback:function(a){e.$set(t,"condDayPeriod",a)},expression:"row.condDayPeriod"}},e._l(e.dateOptions,(function(t,n){return a("a-select-option",{key:t},[e._v(e._s(n))])})),1):e._e(),"adnId"===t.dimensions[i]?a("om-ad-network-select",{attrs:{width:"100%",disabled:!t.editing,defaultValue:t.condAdnList},on:{change:function(e){return t.condAdnList=e}}}):e._e(),"country"===t.dimensions[i]?a("om-regions-select",{attrs:{width:"100%",disabled:!t.editing,defaultSelected:t.condCountryList},on:{change:function(e){return t.condCountryList=e}}}):e._e(),"pubAppId"===t.dimensions[i]?a("om-pub-app-select",{attrs:{width:"100%",disabled:!t.editing,defaultValue:t.condPubAppList},on:{change:function(e){return t.condPubAppList=e}}}):e._e(),"placementId"===t.dimensions[i]?a("om-placement-select-simple",{attrs:{width:"100%",disabled:!t.editing,form:e.form,defaultValue:t.condPlacementList},on:{change:function(e){return t.condPlacementList=e}}}):e._e(),"instanceId"===t.dimensions[i]?a("om-instance-select",{attrs:{width:"100%",disabled:!t.editing,mode:"multiple",defaultValue:t.condInstanceList},on:{change:function(e){return t.condInstanceList=e}}}):e._e()],1)})),1),a("div",{staticStyle:{"font-weight":"bold","font-size":"16px",margin:"16px 0"}},[e._v("Metrics")]),a("a-checkbox-group",{staticStyle:{"margin-bottom":"32px"},attrs:{disabled:!t.editing,options:e.metrics[t.dataSource]},on:{change:function(e){return t.metrics=e}},model:{value:t.metrics,callback:function(a){e.$set(t,"metrics",a)},expression:"row.metrics"}})],1)])}}])})],1)],1)},X=[],Q=(a("4de4"),a("7db0"),a("c740"),a("fb6a"),a("a434"),a("b85c")),Z=a("5530"),ee=(a("b2a3"),a("7fd0"),a("06f4"),a("5704"),a("41b2")),te=a.n(ee),ae=a("8e8e"),ne=a.n(ae),ie=a("6042"),re=a.n(ie),oe=a("4d91"),se=a("9b57"),le=a.n(se),ce=a("daa3"),de=a("8496"),ue=a("b8ad"),pe=a.n(ue),he=a("b488"),fe={name:"CascaderMenus",mixins:[he["a"]],props:{value:oe["a"].array.def([]),activeValue:oe["a"].array.def([]),options:oe["a"].array,prefixCls:oe["a"].string.def("rc-cascader-menus"),expandTrigger:oe["a"].string.def("click"),visible:oe["a"].bool.def(!1),dropdownMenuColumnStyle:oe["a"].object,defaultFieldNames:oe["a"].object,fieldNames:oe["a"].object,expandIcon:oe["a"].any,loadingIcon:oe["a"].any},data:function(){return this.menuItems={},{}},watch:{visible:function(e){var t=this;e&&this.$nextTick((function(){t.scrollActiveItemToView()}))}},mounted:function(){var e=this;this.$nextTick((function(){e.scrollActiveItemToView()}))},methods:{getFieldName:function(e){var t=this.$props,a=t.fieldNames,n=t.defaultFieldNames;return a[e]||n[e]},getOption:function(e,t){var a=this,n=this.$createElement,i=this.prefixCls,r=this.expandTrigger,o=Object(ce["g"])(this,"loadingIcon"),s=Object(ce["g"])(this,"expandIcon"),l=function(n){a.__emit("select",e,t,n)},c=function(n){a.__emit("itemDoubleClick",e,t,n)},d=e[this.getFieldName("value")],u={attrs:{role:"menuitem"},on:{click:l,doubleclick:c,mousedown:function(e){return e.preventDefault()}},key:Array.isArray(d)?d.join("__ant__"):d},p=i+"-menu-item",h=null,f=e[this.getFieldName("children")]&&e[this.getFieldName("children")].length>0;(f||!1===e.isLeaf)&&(p+=" "+i+"-menu-item-expand",e.loading||(h=n("span",{class:i+"-menu-item-expand-icon"},[s]))),"hover"!==r||!f&&!1!==e.isLeaf||(u.on={mouseenter:this.delayOnSelect.bind(this,l),mouseleave:this.delayOnSelect.bind(this),click:l}),this.isActiveOption(e,t)&&(p+=" "+i+"-menu-item-active",u.ref=this.getMenuItemRef(t)),e.disabled&&(p+=" "+i+"-menu-item-disabled");var m=null;e.loading&&(p+=" "+i+"-menu-item-loading",m=o||null);var g="";return e.title?g=e.title:"string"===typeof e[this.getFieldName("label")]&&(g=e[this.getFieldName("label")]),u.attrs.title=g,u["class"]=p,n("li",u,[e[this.getFieldName("label")],h,m])},getActiveOptions:function(e){var t=this,a=e||this.activeValue,n=this.options;return pe()(n,(function(e,n){return e[t.getFieldName("value")]===a[n]}),{childrenKeyName:this.getFieldName("children")})},getShowOptions:function(){var e=this,t=this.options,a=this.getActiveOptions().map((function(t){return t[e.getFieldName("children")]})).filter((function(e){return!!e}));return a.unshift(t),a},delayOnSelect:function(e){for(var t=this,a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),"function"===typeof e&&(this.delayTimer=setTimeout((function(){e(n),t.delayTimer=null}),150))},scrollActiveItemToView:function(){for(var e=this.getShowOptions().length,t=0;t<e;t++){var a=this.$refs["menuItems_"+t];if(a){var n=a;n.parentNode.scrollTop=n.offsetTop}}},isActiveOption:function(e,t){var a=this.activeValue,n=void 0===a?[]:a;return n[t]===e[this.getFieldName("value")]},getMenuItemRef:function(e){return"menuItems_"+e}},render:function(){var e=this,t=arguments[0],a=this.prefixCls,n=this.dropdownMenuColumnStyle;return t("div",[this.getShowOptions().map((function(i,r){return t("ul",{class:a+"-menu",key:r,style:n},[i.map((function(t){return e.getOption(t,r)}))])}))])}},me=a("18a7"),ge=a("c2b3"),ve=a.n(ge),be=a("7b05"),ye={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},xe={mixins:[he["a"]],model:{prop:"value",event:"change"},props:{value:oe["a"].array,defaultValue:oe["a"].array,options:oe["a"].array,popupVisible:oe["a"].bool,disabled:oe["a"].bool.def(!1),transitionName:oe["a"].string.def(""),popupClassName:oe["a"].string.def(""),popupStyle:oe["a"].object.def({}),popupPlacement:oe["a"].string.def("bottomLeft"),prefixCls:oe["a"].string.def("rc-cascader"),dropdownMenuColumnStyle:oe["a"].object,builtinPlacements:oe["a"].object.def(ye),loadData:oe["a"].func,changeOnSelect:oe["a"].bool,expandTrigger:oe["a"].string.def("click"),fieldNames:oe["a"].object.def({label:"label",value:"value",children:"children"}),expandIcon:oe["a"].any,loadingIcon:oe["a"].any,getPopupContainer:oe["a"].func},data:function(){var e=[],t=this.value,a=this.defaultValue,n=this.popupVisible;return Object(ce["q"])(this,"value")?e=t||[]:Object(ce["q"])(this,"defaultValue")&&(e=a||[]),{sPopupVisible:n,sActiveValue:e,sValue:e}},watch:{value:function(e,t){if(!ve()(e,t)){var a={sValue:e||[]};Object(ce["q"])(this,"loadData")||(a.sActiveValue=e||[]),this.setState(a)}},popupVisible:function(e){this.setState({sPopupVisible:e})}},methods:{getPopupDOMNode:function(){return this.$refs.trigger.getPopupDomNode()},getFieldName:function(e){var t=this.defaultFieldNames,a=this.fieldNames;return a[e]||t[e]},getFieldNames:function(){return this.fieldNames},getCurrentLevelOptions:function(){var e=this,t=this.options,a=void 0===t?[]:t,n=this.sActiveValue,i=void 0===n?[]:n,r=pe()(a,(function(t,a){return t[e.getFieldName("value")]===i[a]}),{childrenKeyName:this.getFieldName("children")});return r[r.length-2]?r[r.length-2][this.getFieldName("children")]:[].concat(le()(a)).filter((function(e){return!e.disabled}))},getActiveOptions:function(e){var t=this;return pe()(this.options||[],(function(a,n){return a[t.getFieldName("value")]===e[n]}),{childrenKeyName:this.getFieldName("children")})},setPopupVisible:function(e){Object(ce["q"])(this,"popupVisible")||this.setState({sPopupVisible:e}),e&&!this.sPopupVisible&&this.setState({sActiveValue:this.sValue}),this.__emit("popupVisibleChange",e)},handleChange:function(e,t,a){var n=this;"keydown"===a.type&&a.keyCode!==me["a"].ENTER||(this.__emit("change",e.map((function(e){return e[n.getFieldName("value")]})),e),this.setPopupVisible(t.visible))},handlePopupVisibleChange:function(e){this.setPopupVisible(e)},handleMenuSelect:function(e,t,a){var n=this.$refs.trigger.getRootDomNode();n&&n.focus&&n.focus();var i=this.changeOnSelect,r=this.loadData,o=this.expandTrigger;if(e&&!e.disabled){var s=this.sActiveValue;s=s.slice(0,t+1),s[t]=e[this.getFieldName("value")];var l=this.getActiveOptions(s);if(!1===e.isLeaf&&!e[this.getFieldName("children")]&&r)return i&&this.handleChange(l,{visible:!0},a),this.setState({sActiveValue:s}),void r(l);var c={};e[this.getFieldName("children")]&&e[this.getFieldName("children")].length?!i||"click"!==a.type&&"keydown"!==a.type||("hover"===o?this.handleChange(l,{visible:!1},a):this.handleChange(l,{visible:!0},a),c.sValue=s):(this.handleChange(l,{visible:!1},a),c.sValue=s),c.sActiveValue=s,(Object(ce["q"])(this,"value")||"keydown"===a.type&&a.keyCode!==me["a"].ENTER)&&delete c.sValue,this.setState(c)}},handleItemDoubleClick:function(){var e=this.$props.changeOnSelect;e&&this.setPopupVisible(!1)},handleKeyDown:function(e){var t=this,a=this.$slots,n=a["default"]&&a["default"][0];if(n){var i=Object(ce["h"])(n).keydown;if(i)return void i(e)}var r=[].concat(le()(this.sActiveValue)),o=r.length-1<0?0:r.length-1,s=this.getCurrentLevelOptions(),l=s.map((function(e){return e[t.getFieldName("value")]})).indexOf(r[o]);if(e.keyCode===me["a"].DOWN||e.keyCode===me["a"].UP||e.keyCode===me["a"].LEFT||e.keyCode===me["a"].RIGHT||e.keyCode===me["a"].ENTER||e.keyCode===me["a"].SPACE||e.keyCode===me["a"].BACKSPACE||e.keyCode===me["a"].ESC||e.keyCode===me["a"].TAB)if(this.sPopupVisible||e.keyCode===me["a"].BACKSPACE||e.keyCode===me["a"].LEFT||e.keyCode===me["a"].RIGHT||e.keyCode===me["a"].ESC||e.keyCode===me["a"].TAB){if(e.keyCode===me["a"].DOWN||e.keyCode===me["a"].UP){e.preventDefault();var c=l;-1!==c?e.keyCode===me["a"].DOWN?(c+=1,c=c>=s.length?0:c):(c-=1,c=c<0?s.length-1:c):c=0,r[o]=s[c][this.getFieldName("value")]}else if(e.keyCode===me["a"].LEFT||e.keyCode===me["a"].BACKSPACE)e.preventDefault(),r.splice(r.length-1,1);else if(e.keyCode===me["a"].RIGHT)e.preventDefault(),s[l]&&s[l][this.getFieldName("children")]&&r.push(s[l][this.getFieldName("children")][0][this.getFieldName("value")]);else if(e.keyCode===me["a"].ESC||e.keyCode===me["a"].TAB)return void this.setPopupVisible(!1);r&&0!==r.length||this.setPopupVisible(!1);var d=this.getActiveOptions(r),u=d[d.length-1];this.handleMenuSelect(u,d.length-1,e),this.__emit("keydown",e)}else this.setPopupVisible(!0)}},render:function(){var e=arguments[0],t=this.$props,a=(this.$slots,this.sActiveValue),n=this.handleMenuSelect,i=this.sPopupVisible,r=this.handlePopupVisibleChange,o=this.handleKeyDown,s=this.$listeners,l=t.prefixCls,c=t.transitionName,d=t.popupClassName,u=t.options,p=void 0===u?[]:u,h=t.disabled,f=t.builtinPlacements,m=t.popupPlacement,g=ne()(t,["prefixCls","transitionName","popupClassName","options","disabled","builtinPlacements","popupPlacement"]),v=e("div"),b="";if(p&&p.length>0){var y=Object(ce["g"])(this,"loadingIcon"),x=Object(ce["g"])(this,"expandIcon")||">",w={props:te()({},t,{fieldNames:this.getFieldNames(),defaultFieldNames:this.defaultFieldNames,activeValue:a,visible:i,loadingIcon:y,expandIcon:x}),on:te()({},s,{select:n,itemDoubleClick:this.handleItemDoubleClick})};v=e(fe,w)}else b=" "+l+"-menus-empty";var S={props:te()({},g,{disabled:h,popupPlacement:m,builtinPlacements:f,popupTransitionName:c,action:h?[]:["click"],popupVisible:!h&&i,prefixCls:l+"-menus",popupClassName:d+b}),on:te()({},s,{popupVisibleChange:r}),ref:"trigger"},O=Object(ce["l"])(this,"default")[0];return e(de["a"],S,[O&&Object(be["a"])(O,{on:{keydown:o},attrs:{tabIndex:h?void 0:0}}),e("template",{slot:"popup"},[v])])}},we=xe,Se=a("4d26"),Oe=a.n(Se),Ce=a("0464"),ke=a("b558"),Ae=a("0c63"),Pe=a("6a21"),_e=a("4df5"),Re=a("db14"),De=oe["a"].shape({value:oe["a"].oneOfType([oe["a"].string,oe["a"].number]),label:oe["a"].any,disabled:oe["a"].bool,children:oe["a"].array,key:oe["a"].oneOfType([oe["a"].string,oe["a"].number])}).loose,Ie=oe["a"].shape({value:oe["a"].string.isRequired,label:oe["a"].string.isRequired,children:oe["a"].string}).loose,Ne=oe["a"].oneOf(["click","hover"]),Te=oe["a"].shape({filter:oe["a"].func,render:oe["a"].func,sort:oe["a"].func,matchInputWidth:oe["a"].bool,limit:oe["a"].oneOfType([Boolean,Number])}).loose;function Ee(){}var Ve={options:oe["a"].arrayOf(De).def([]),defaultValue:oe["a"].array,value:oe["a"].array,displayRender:oe["a"].func,transitionName:oe["a"].string.def("slide-up"),popupStyle:oe["a"].object.def({}),popupClassName:oe["a"].string,popupPlacement:oe["a"].oneOf(["bottomLeft","bottomRight","topLeft","topRight"]).def("bottomLeft"),placeholder:oe["a"].string.def("Please select"),size:oe["a"].oneOf(["large","default","small"]),disabled:oe["a"].bool.def(!1),allowClear:oe["a"].bool.def(!0),showSearch:oe["a"].oneOfType([Boolean,Te]),notFoundContent:oe["a"].any,loadData:oe["a"].func,expandTrigger:Ne,changeOnSelect:oe["a"].bool,prefixCls:oe["a"].string,inputPrefixCls:oe["a"].string,getPopupContainer:oe["a"].func,popupVisible:oe["a"].bool,fieldNames:Ie,autoFocus:oe["a"].bool,suffixIcon:oe["a"].any},Le=50;function je(e,t,a){return t.some((function(t){return t[a.label].indexOf(e)>-1}))}function $e(e,t,a,n){function i(e){return e[n.label].indexOf(a)>-1}return e.findIndex(i)-t.findIndex(i)}function Fe(e){var t=e.fieldNames,a=void 0===t?{}:t,n={children:a.children||"children",label:a.label||"label",value:a.value||"value"};return n}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=Fe(t),i=[],r=n.children;return e.forEach((function(e){var n=a.concat(e);!t.changeOnSelect&&e[r]&&e[r].length||i.push(n),e[r]&&(i=i.concat(Me(e[r],t,n)))})),i}var Ue=function(e){var t=e.labels;return t.join(" / ")},Be={inheritAttrs:!1,name:"ACascader",mixins:[he["a"]],props:Ve,model:{prop:"value",event:"change"},provide:function(){return{savePopupRef:this.savePopupRef}},inject:{configProvider:{default:function(){return _e["a"]}},localeData:{default:function(){return{}}}},data:function(){this.cachedOptions=[];var e=this.value,t=this.defaultValue,a=this.popupVisible,n=this.showSearch,i=this.options;return{sValue:e||t||[],inputValue:"",inputFocused:!1,sPopupVisible:a,flattenOptions:n?Me(i,this.$props):void 0}},mounted:function(){var e=this;this.$nextTick((function(){!e.autoFocus||e.showSearch||e.disabled||e.$refs.picker.focus()}))},watch:{value:function(e){this.setState({sValue:e||[]})},popupVisible:function(e){this.setState({sPopupVisible:e})},options:function(e){this.showSearch&&this.setState({flattenOptions:Me(e,this.$props)})}},methods:{savePopupRef:function(e){this.popupRef=e},highlightKeyword:function(e,t,a){var n=this.$createElement;return e.split(t).map((function(e,i){return 0===i?e:[n("span",{class:a+"-menu-item-keyword"},[t]),e]}))},defaultRenderFilteredOption:function(e){var t=this,a=e.inputValue,n=e.path,i=e.prefixCls,r=e.names;return n.map((function(e,n){var o=e[r.label],s=o.indexOf(a)>-1?t.highlightKeyword(o,a,i):o;return 0===n?s:[" / ",s]}))},handleChange:function(e,t){if(this.setState({inputValue:""}),t[0].__IS_FILTERED_OPTION){var a=e[0],n=t[0].path;this.setValue(a,n)}else this.setValue(e,t)},handlePopupVisibleChange:function(e){Object(ce["q"])(this,"popupVisible")||this.setState((function(t){return{sPopupVisible:e,inputFocused:e,inputValue:e?t.inputValue:""}})),this.$emit("popupVisibleChange",e)},handleInputFocus:function(e){this.$emit("focus",e)},handleInputBlur:function(e){this.setState({inputFocused:!1}),this.$emit("blur",e)},handleInputClick:function(e){var t=this.inputFocused,a=this.sPopupVisible;(t||a)&&(e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation())},handleKeyDown:function(e){e.keyCode===me["a"].BACKSPACE&&e.stopPropagation()},handleInputChange:function(e){var t=e.target.value;this.setState({inputValue:t})},setValue:function(e,t){Object(ce["q"])(this,"value")||this.setState({sValue:e}),this.$emit("change",e,t)},getLabel:function(){var e=this.options,t=this.$scopedSlots,a=Fe(this.$props),n=this.displayRender||t.displayRender||Ue,i=this.sValue,r=Array.isArray(i[0])?i[0]:i,o=pe()(e,(function(e,t){return e[a.value]===r[t]}),{childrenKeyName:a.children}),s=o.map((function(e){return e[a.label]}));return n({labels:s,selectedOptions:o})},clearSelection:function(e){e.preventDefault(),e.stopPropagation(),this.inputValue?this.setState({inputValue:""}):(this.setValue([]),this.handlePopupVisibleChange(!1))},generateFilteredOptions:function(e,t){var a,n=this.$createElement,i=this.showSearch,r=this.notFoundContent,o=this.$scopedSlots,s=Fe(this.$props),l=i.filter,c=void 0===l?je:l,d=i.sort,u=void 0===d?$e:d,p=i.limit,h=void 0===p?Le:p,f=i.render||o.showSearchRender||this.defaultRenderFilteredOption,m=this.$data,g=m.flattenOptions,v=void 0===g?[]:g,b=m.inputValue,y=void 0;if(h>0){y=[];var x=0;v.some((function(e){var t=c(b,e,s);return t&&(y.push(e),x+=1),x>=h}))}else Object(Pe["a"])("number"!==typeof h,"'limit' of showSearch in Cascader should be positive number or false."),y=v.filter((function(e){return c(b,e,s)}));return y.sort((function(e,t){return u(e,t,b,s)})),y.length>0?y.map((function(t){var a;return a={__IS_FILTERED_OPTION:!0,path:t},re()(a,s.label,f({inputValue:b,path:t,prefixCls:e,names:s})),re()(a,s.value,t.map((function(e){return e[s.value]}))),re()(a,"disabled",t.some((function(e){return!!e.disabled}))),a})):[(a={},re()(a,s.label,r||t(n,"Cascader")),re()(a,s.value,"ANT_CASCADER_NOT_FOUND"),re()(a,"disabled",!0),a)]},focus:function(){this.showSearch?this.$refs.input.focus():this.$refs.picker.focus()},blur:function(){this.showSearch?this.$refs.input.blur():this.$refs.picker.blur()}},render:function(){var e,t,a,n=arguments[0],i=this.$slots,r=this.sPopupVisible,o=this.inputValue,s=this.$listeners,l=this.configProvider,c=this.localeData,d=this.$data,u=d.sValue,p=d.inputFocused,h=Object(ce["j"])(this),f=Object(ce["g"])(this,"suffixIcon");f=Array.isArray(f)?f[0]:f;var m=l.getPopupContainer,g=h.prefixCls,v=h.inputPrefixCls,b=h.placeholder,y=void 0===b?c.placeholder:b,x=h.size,w=h.disabled,S=h.allowClear,O=h.showSearch,C=void 0!==O&&O,k=ne()(h,["prefixCls","inputPrefixCls","placeholder","size","disabled","allowClear","showSearch"]),A=this.configProvider.getPrefixCls,P=this.configProvider.renderEmpty,_=A("cascader",g),R=A("input",v),D=Oe()((e={},re()(e,R+"-lg","large"===x),re()(e,R+"-sm","small"===x),e)),I=S&&!w&&u.length>0||o?n(Ae["a"],{attrs:{type:"close-circle",theme:"filled"},class:_+"-picker-clear",on:{click:this.clearSelection},key:"clear-icon"}):null,N=Oe()((t={},re()(t,_+"-picker-arrow",!0),re()(t,_+"-picker-arrow-expand",r),t)),T=Oe()(Object(ce["f"])(this),_+"-picker",(a={},re()(a,_+"-picker-with-value",o),re()(a,_+"-picker-disabled",w),re()(a,_+"-picker-"+x,!!x),re()(a,_+"-picker-show-search",!!C),re()(a,_+"-picker-focused",p),a)),E=Object(Ce["a"])(k,["options","popupPlacement","transitionName","displayRender","changeOnSelect","expandTrigger","popupVisible","getPopupContainer","loadData","popupClassName","filterOption","renderFilteredOption","sortFilteredOption","notFoundContent","defaultValue","fieldNames"]),V=h.options;o&&(V=this.generateFilteredOptions(_,P)),r?this.cachedOptions=V:V=this.cachedOptions;var L={},j=1===(V||[]).length&&"ANT_CASCADER_NOT_FOUND"===V[0].value;j&&(L.height="auto");var $=!1!==C.matchInputWidth;$&&o&&this.$refs.input&&(L.width=this.$refs.input.$el.offsetWidth+"px");var F={props:te()({},E,{prefixCls:R,placeholder:u&&u.length>0?void 0:y,value:o,disabled:w,readOnly:!C,autoComplete:"off"}),class:_+"-input "+D,ref:"input",on:{focus:C?this.handleInputFocus:Ee,click:C?this.handleInputClick:Ee,blur:C?this.handleInputBlur:Ee,keydown:this.handleKeyDown,change:C?this.handleInputChange:Ee},attrs:Object(ce["e"])(this)},M=Object(ce["c"])(i["default"]),U=f&&(Object(ce["t"])(f)?Object(be["a"])(f,{class:re()({},_+"-picker-arrow",!0)}):n("span",{class:_+"-picker-arrow"},[f]))||n(Ae["a"],{attrs:{type:"down"},class:N}),B=M.length?M:n("span",{class:T,style:Object(ce["o"])(this),ref:"picker"},[C?n("span",{class:_+"-picker-label"},[this.getLabel()]):null,n(ke["a"],F),C?null:n("span",{class:_+"-picker-label"},[this.getLabel()]),I,U]),q=n(Ae["a"],{attrs:{type:"right"}}),K=n("span",{class:_+"-menu-item-loading-icon"},[n(Ae["a"],{attrs:{type:"redo",spin:!0}})]),G=h.getPopupContainer||m,Y={props:te()({},h,{getPopupContainer:G,options:V,prefixCls:_,value:u,popupVisible:r,dropdownMenuColumnStyle:L,expandIcon:q,loadingIcon:K}),on:te()({},s,{popupVisibleChange:this.handlePopupVisibleChange,change:this.handleChange})};return n(we,Y,[B])},install:function(e){e.use(Re["a"]),e.component(Be.name,Be)}},qe=Be,Ke=[{key:"day",title:"Date",cond:null},{key:"country",title:"Regions",cond:"condCountryList"},{key:"pubAppId",title:"Apps",cond:"condPubAppList"},{key:"placementId",title:"Placement",cond:"condPlacementList"},{key:"instanceId",title:"Instance",cond:"condInstanceList"},{key:"adnId",title:"AdNetwork",cond:"condAdnList"}],Ge={name:"OmReportingBuilder",components:{OmPubAppSelect:R,OmRegionsSelect:c["a"],OmAdNetworkSelect:l["a"],OmPlacementSelectSimple:L,OmInstanceSelect:j["a"],Ellipsis:s["a"],ACascader:qe},computed:{disableEdit:function(){return this.table.expandedRowKeys.length>0}},data:function(){var e=[{label:"Daily",value:1},{label:"Weekly",value:2,children:[]},{label:"Monthly",value:3}],t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return t.forEach((function(t,a){e[1].children.push({label:t,value:a})})),{form:this.$form.createForm(this),editingRows:{},country:[],dimensions:[null,Ke,Ke.slice(0,2)],metrics:[null,[{value:"request",label:"Requests"},{value:"filled",label:"Fills"},{value:"fillRate",label:"Fill Rate"},{value:"isReady",label:"Ad-Availability Check"},{value:"isReadyTrue",label:"Ad-Availability Response"},{value:"isReadyRate",label:"Availability Rate"},{value:"impr",label:"Impressions"},{value:"click",label:"Clicks"},{value:"ctr",label:"CTR"},{value:"cost",label:"Revenue"},{value:"ecpm",label:"eCPM"}],[{value:"dau",label:"DAU"},{value:"imprDau",label:"Impressions per DAU"},{value:"arpDau",label:"ARPDAU"},{value:"deu",label:"DEU"},{value:"imprDeu",label:"Impressions per DEU"},{value:"arpDeu",label:"ARPDEU"},{value:"engagementRate",label:"Engagement Rate"}]],dataSourceArray:["","Performance","User Activity"],scheduleTypes:["","Daily","Weekly","Monthly"],scheduleOptions:e,weekDays:t,statusArray:["Stopped","Running"],dateOptions:{Yesterday:1,"Last 7 days":7,"Last 14 days":14,"Last 28 days":28},loading:!1,table:{expandedRowKeys:[],data:[],columns:[{title:"Name",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"Data Source",dataIndex:"dataSource",scopedSlots:{customRender:"dataSource"}},{title:"Recipients",dataIndex:"recipients",scopedSlots:{customRender:"recipients"}},{title:"Schedule",dataIndex:"schedule",scopedSlots:{customRender:"schedule"}},{title:"Next Reporting",scopedSlots:{customRender:"nextExecuteTime"}},{title:"Status",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"Operations",scopedSlots:{customRender:"action"}}]}}},mounted:function(){this.reloadTable()},methods:{handleDimensionChange:function(e,t,a){var n=a.dimensions[t];a.dimensions[t]=e,n&&this.$set(a.dimSelected,n,!1),e&&this.$set(a.dimSelected,e,!0)},handleScheduleChange:function(e,t){2===e[0]&&1===e.length&&(t.schedule=[2,1])},renderNextExecuteTime:function(e){if(0===e.status)return"-";var t="YYYY-MM-DD",a=h()().utc();if(1===e.schedule[0])return a.add(1,"d").format(t);if(3===e.schedule[0])return a.add(1,"M").startOf("M").format(t);e.weeklyDay=e.schedule[1];var n=a.clone().startOf("w").add(e.weeklyDay,"d");return n<a&&n.add(1,"w"),n.format(t)},handleTest:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(F["g"])({id:e.id});case 3:t.$message.success("Test success"),a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),t.$message.error("Test error");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},handleExpand:function(e){if(e.expand){var t=this.table.expandedRowKeys.findIndex((function(t){return t===e.id}));-1!==t&&this.table.expandedRowKeys.splice(t,1)}else this.table.expandedRowKeys.push(e.id);e.expand=!e.expand},handleAdd:function(){var e=this.buildDefaultRow();e.id=Math.round(-1e4*Math.random()),this.table.data.unshift(e),this.handleEdit(this.table.data[0])},handleEdit:function(e){e.editing=e.expand=!0,this.editingRows[e.id]=JSON.parse(JSON.stringify(e));var t=this.table.expandedRowKeys.findIndex((function(t){return t===e.id}));-1===t&&this.table.expandedRowKeys.push(e.id)},handleCancel:function(e){e.editing=e.expand=!1;var t=this.editingRows[e.id];delete this.editingRows[e.id];var a=this.table.data.findIndex((function(t){return t.id===e.id}));-1!==a&&(e.id>0?(t.editing=t.expand=!1,this.$set(this.table.data,a,t)):this.table.data.splice(a,1));var n=this.table.expandedRowKeys.findIndex((function(t){return t===e.id}));-1!==n&&this.table.expandedRowKeys.splice(n,1)},handleSave:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function a(){var n,i,r,o,s,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.loading=!0,a.prev=1,n=e.dataSource,i=e.dimensions.filter((function(e){return e&&t.dimensions[n].find((function(t){return t.key===e}))})),i.length){a.next=7;break}return t.$message.error("At least one column is required"),a.abrupt("return");case 7:if(r=e.metrics.filter((function(e){return t.metrics[n].find((function(t){return t.value===e}))})),r.length){a.next=11;break}return t.$message.error("At least one metric is required"),a.abrupt("return");case 11:for(e.dimensions=i,e.metrics=r,Ke.forEach((function(t){var a=t.key,n=t.cond;n&&!i.includes(a)&&(e[n]=[])})),o=JSON.parse(JSON.stringify(e)),s=0,l=["expand","lastmodify","status","dimSelected"];s<l.length;s++)c=l[s],delete o[c];if(2===o.schedule[0]&&(o.weeklyDay=o.schedule[1]),o.schedule=o.schedule[0],!(o.id>0)){a.next=23;break}return a.next=21,Object(F["h"])(o);case 21:a.next=26;break;case 23:return delete o.id,a.next=26,Object(F["a"])(o);case 26:return a.next=28,t.reloadTable();case 28:t.table.expandedRowKeys.pop(),a.next=33;break;case 31:a.prev=31,a.t0=a["catch"](1);case 33:return a.prev=33,t.loading=!1,a.finish(33);case 36:case"end":return a.stop()}}),a,null,[[1,31,33,36]])})))()},handleStatusUpdate:function(e,t){var a=this;return Object(C["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.loading=!0,n.prev=1,n.next=4,Object(F["i"])({id:e.id,status:t});case 4:return n.next=6,a.reloadTable();case 6:n.next=10;break;case 8:n.prev=8,n.t0=n["catch"](1);case 10:return n.prev=10,a.loading=!1,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,8,10,13]])})))()},handleRemove:function(e){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,Object(F["f"])({id:e.id});case 4:return a.next=6,t.reloadTable();case 6:a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](1);case 10:return a.prev=10,t.loading=!1,a.finish(10);case 13:case"end":return a.stop()}}),a,null,[[1,8,10,13]])})))()},reloadTable:function(){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$store.getters.publisherId,e.loading=!0,t.prev=2,t.next=5,Object(F["d"])({publisherId:a});case 5:n=t.sent,e.table.data=n.data.map((function(t){2===t.schedule?t.schedule=[t.schedule,t.weeklyDay]:t.schedule=[t.schedule],t=Object(Z["a"])(Object(Z["a"])({},e.buildDefaultRow()),t);var a,n=Object(Q["a"])(t.dimensions);try{for(n.s();!(a=n.n()).done;){var i=a.value;t.dimSelected[i]=!0}}catch(r){n.e(r)}finally{n.f()}return t}));case 7:return t.prev=7,e.loading=!1,t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[2,,7,10]])})))()},buildDefaultRow:function(){return{expand:!1,editing:!1,dimensions:[],dimSelected:{},condDayPeriod:1,condAdnList:[],condPubAppList:[],condCountryList:[],condPlacementList:[],condInstanceList:[],name:"",recipients:"",dataSource:1,schedule:[2,1],weeklyDay:0,status:0}}}},Ye=Ge,ze=(a("7052"),Object(y["a"])(Ye,J,X,!1,null,"4237a252",null)),We=ze.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{attrs:{layout:"inline",form:e.form}},[a("om-pub-app-select"),a("a-form-item",[a("om-regions-select",{staticStyle:{width:"220px"},attrs:{ignoreApp:!0},on:{change:e.countryChange}})],1),a("a-form-item",[a("a-button",{staticStyle:{width:"84px"},attrs:{ghost:"",type:"primary"},on:{click:e.handleApply}},[e._v("Apply")])],1),a("om-report-date-picker")],1),a("div",{staticStyle:{"background-color":"white","margin-top":"16px",padding:"16px"}},[a("a-select",{staticStyle:{width:"220px","margin-bottom":"16px"},attrs:{showSearch:"",placeholder:"Breakdown",optionLabelProp:"title",showArrow:!1,defaultValue:e.chartGroupBy},on:{change:e.handleDim4ChartChange}},e._l(e.dimList4Chart,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"DAU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"dau","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"ARPDAU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"arpDau","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"Impression per DAU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"imprDau","group-by":e.chartGroupViewDim}})],1)],1),a("a-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:16}},[a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"DEU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"deu","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"ARPDEU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"arpDeu","group-by":e.chartGroupViewDim}})],1),a("a-col",{attrs:{span:8}},[a("om-report-chart",{attrs:{title:"Impression per DEU",loading:e.loading,data:e.chartData,height:248,"x-column":"day","y-column":"imprDeu","group-by":e.chartGroupViewDim}})],1)],1)],1),a("div",{staticStyle:{"background-color":"white","margin-top":"16px",padding:"16px"}},[a("a-select",{staticStyle:{width:"240px","margin-bottom":"16px"},attrs:{showSearch:"",placeholder:"Breakdown",mode:"multiple",maxTagCount:1,allowClear:!0,showArrow:!1,optionLabelProp:"title",value:e.table.dimension},on:{change:e.handleDim4TableChange}},e._l(e.dimList4Table,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a-select",{staticStyle:{width:"304px",margin:"0 0 16px 16px"},attrs:{showSearch:"",placeholder:"Metrics",mode:"multiple",maxTagCount:2,allowClear:!0,showArrow:!1,optionLabelProp:"title",value:e.table.metric},on:{change:e.handleMetricsChange}},e._l(e.supportedMetrics,(function(t,n){return a("a-select-option",{key:n,attrs:{title:t.title}},[e._v(e._s(t.title))])})),1),a("a",{staticStyle:{float:"right","margin-right":"16px"},attrs:{disabled:0===e.table.data.length},on:{click:e.handleDownload}},[e._v("CSV")]),e.table.data.length?a("a-table",{staticClass:"ant-card-table-default",attrs:{scroll:{x:!0},loading:e.table.loading,dataSource:e.table.data,columns:e.table.columns,"row-key":"id",pagination:!1}}):a("div",{staticClass:"performance_no_data"},[a("div",{staticClass:"no_data"},[a("div",[e._v("No data available")]),a("div",[e._v("Try changing your filters")])])])],1)],1)},Je=[];a("99af");U["a"].register("currency",B["a"]),U["a"].register("percent",q["a"]);var Xe={day:"Day",country:"Regions",pubAppId:"Apps"},Qe={pubAppId:"pubAppName",placementId:"placementName",adnId:"adnName",instanceId:"instanceName"},Ze={name:"OmUserActivityReport",components:{OmPubAppSelect:R,OmReportChart:$["a"],OmReportDatePicker:w,OmRegionsSelect:c["a"],Ellipsis:s["a"]},data:function(){return{form:this.$form.createForm(this),country:[],supportedMetrics:{dau:{title:"DAU"},arpDau:{title:"ARPDAU"},imprDau:{title:"Impressions / DAU",format:"0.00 %"},deu:{title:"DEU"},arpDeu:{title:"ARPDEU"},imprDeu:{title:"Impressions / DEU",format:"0.00 %"},engagementRate:{title:"Engagement Rate",format:"0.00 %"}},dimList4Chart:this.filterDim("pubAppId","country"),dimList4Table:this.filterDim("day","country","pubAppId","placementId","adnId","instanceId"),loading:!1,chartGroupBy:"pubAppId",chartData:[],table:{loading:!1,dimension:["day"],metric:["dau","deu"],data:[],columns:[]}}},computed:{chartGroupViewDim:function(){return Qe[this.chartGroupBy]||this.chartGroupBy}},mounted:function(){this.reloadChart(),this.reloadTable("dimension")},methods:{filterDim:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.map((function(e){return{id:e,title:Xe[e]}}))},countryChange:function(e){this.country=e},handleApply:function(){this.reloadChart(),this.reloadTable("dimension")},handleDim4ChartChange:function(e){this.chartGroupBy=e,this.reloadChart()},handleDim4TableChange:function(e){this.table.dimension=e,this.reloadTable("dimension")},handleMetricsChange:function(e){this.table.metric=e,this.reloadTable("metric")},buildBaseParams:function(){var e=this.form.getFieldsValue();return e.dateBegin=e.dateRange[0].format("YYYY-MM-DD"),e.dateEnd=e.dateRange[1].format("YYYY-MM-DD"),delete e.dateRange,e.country=this.country,e.type=["dau","api"],e.dimension=["day"].concat(this.chartGroupBy),e},reloadChart:function(){var e=this,t=this.buildBaseParams();this.loading=!0,Object(F["e"])(t).then((function(t){t.code||(e.chartData=t.data.map(e.mapMetrics))})).finally((function(t){e.loading=!1}))},reloadTable:function(e){var t=this,a=this.table,n=a.dimension,i=a.metric;if(0===n.length||0===i.length)return this.table.columns=[],void(this.table.data=[]);var r=this.buildBaseParams();r.dimension=n,r.metric=i;var o=n.map((function(e){var t=Qe[e]||e;return{title:Xe[e],dataIndex:t,sorter:function(e,a){return e[t].localeCompare(a[t])}}}));i.forEach((function(e){var a=t.supportedMetrics[e];a.format||(a.format="0,0"),o.push({title:a.title,dataIndex:e,customRender:function(e,t,n){return Object(U["a"])(e,a.format)},sorter:function(t,a){return t[e]-a[e]}})})),this.table.columns=o,0!==this.table.data.length&&"dimension"!==e||(this.table.loading=!0,Object(F["e"])(r).then((function(e){e.code||(t.table.data=e.data.map(t.mapMetrics))})).finally((function(e){t.table.loading=!1})))},mapMetrics:function(e){return e=Object(Z["a"])({id:Object(M["generateUUID"])(),apiImpr:0,cost:0,deu:0,dau:0},e),e.impr=e.apiImpr,e.arpDau=e.arpDeu=e.imprDau=e.imprDeu=e.engagementRate=0,e.dau>0&&(e.arpDau=e.cost/e.dau,e.imprDau=e.impr/e.dau,e.engagementRate=e.deu/e.dau),e.deu>0&&(e.arpDeu=e.cost/e.deu,e.imprDeu=e.impr/e.deu),e},handleDownload:function(){var e=this,t=this.table.columns.map((function(e){return e.title})).join(","),a=this.table.data.map((function(t){return e.table.columns.map((function(e){return t[e.dataIndex]})).join(",")})).join("\n"),n=new Blob([t+"\n"+a],{type:"text/csv,charset=UTF-8"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download="download.csv",i.click(),URL.revokeObjectURL(i.href)}}},et=Ze,tt=(a("cd53"),Object(y["a"])(et,He,Je,!1,null,"928f842e",null)),at=tt.exports,nt={name:"UserManage",components:{Performance:H,ReportBuilder:We,UserActivity:at},data:function(){return{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}}}}},it=nt,rt=(a("de20"),Object(y["a"])(it,n,i,!1,null,"70432a7a",null));t["default"]=rt.exports},"86b9":function(e,t,a){"use strict";a.d(t,"i",(function(){return r})),a.d(t,"x",(function(){return o})),a.d(t,"s",(function(){return s})),a.d(t,"q",(function(){return l})),a.d(t,"y",(function(){return c})),a.d(t,"p",(function(){return d})),a.d(t,"w",(function(){return u})),a.d(t,"r",(function(){return p})),a.d(t,"u",(function(){return h})),a.d(t,"g",(function(){return f})),a.d(t,"z",(function(){return m})),a.d(t,"o",(function(){return g})),a.d(t,"n",(function(){return v})),a.d(t,"t",(function(){return b})),a.d(t,"v",(function(){return y})),a.d(t,"k",(function(){return x})),a.d(t,"b",(function(){return w})),a.d(t,"l",(function(){return S})),a.d(t,"m",(function(){return O})),a.d(t,"j",(function(){return C})),a.d(t,"f",(function(){return k})),a.d(t,"a",(function(){return A})),a.d(t,"d",(function(){return P})),a.d(t,"c",(function(){return _})),a.d(t,"e",(function(){return R})),a.d(t,"h",(function(){return D}));var n=a("b775"),i={adNetworkList:"app/adnetwork/list",adNetworkSelectList:"/adnetwork/select/list",adNetworkAppList:"/adnetwork/app/list",adNetworkAppGet:"/adnetwork/app/get",adNetworkAppUpdate:"/adnetwork/app/update",adNetworkAppCreate:"/adnetwork/app/create",adNetworkAppStatusUpdate:"/adnetwork/app/status/update",adNetworkInstancesList:"/adnetwork/placement/instances",instancesStatusUpdate:"/instance/update/status",instancesUpdate:"/instance/update",instancesCreate:"/instance/create",getInstance:"/instance/get",instancesSelectList:"/instance/select/list",segmentList:"/mediation/segment/list",segmentGet:"/mediation/segment/get",segmentUpdate:"/mediation/segment/update",segmentCreate:"/mediation/segment/create",segmentRuleUpdate:"/mediation/segment/rule/update",mediationRuleInstanceList:"/mediation/segment/instance/list",mediationRuleInstanceUpdate:"/mediation/segment/instance/update",mediationSegmentRuleInstanceCreate:"/mediation/segment/rule/instance/create",mediationSegmentRuleInstanceDelete:"/mediation/segment/rule/instance/delete",regionList:"/util/country/list",segmentResortPriority:"/mediation/segment/resort/priority",rulePriorityUpdate:"/mediation/rule/resort/priority",segmentRuleDelete:"/mediation/segment/rule/delete",admobGrantToken:"/report/callback/oauth2authorize"};function r(e){return Object(n["c"])({url:i.getInstance,method:"get",params:e})}function o(e){return Object(n["c"])({url:i.segmentRuleDelete,method:"get",params:e})}function s(e){return Object(n["c"])({url:i.rulePriorityUpdate,method:"get",params:e})}function l(e){return Object(n["c"])({url:i.mediationSegmentRuleInstanceDelete,method:"get",params:e})}function c(e){return Object(n["c"])({url:i.segmentRuleUpdate,method:"post",data:e})}function d(e){return Object(n["c"])({url:i.mediationSegmentRuleInstanceCreate,method:"post",data:e})}function u(e){return Object(n["c"])({url:i.segmentResortPriority,method:"get",params:e})}function p(e){return Object(n["c"])({url:i.regionList,method:"get",params:e})}function h(e){return Object(n["c"])({url:i.segmentGet,method:"get",params:e})}function f(e){return Object(n["c"])({url:i.adNetworkSelectList,method:"get",params:e})}function m(e){return Object(n["c"])({url:i.segmentUpdate,method:"post",data:e})}function g(e){return Object(n["c"])({url:i.mediationRuleInstanceUpdate,method:"post",data:e})}function v(e){return Object(n["c"])({url:i.mediationRuleInstanceList,method:"get",params:e})}function b(e){return Object(n["c"])({url:i.segmentCreate,method:"post",data:e})}function y(e){return Object(n["c"])({url:i.segmentList,method:"get",params:e})}function x(e){return Object(n["c"])({url:i.instancesSelectList,method:"get",params:e})}function w(e){return Object(n["c"])({url:i.adNetworkAppGet,method:"get",params:e})}function S(e){return Object(n["c"])({url:i.instancesStatusUpdate,method:"get",params:e})}function O(e){return Object(n["c"])({url:i.instancesUpdate,method:"post",data:e})}function C(e){return Object(n["c"])({url:i.instancesCreate,method:"post",data:e})}function k(e){return Object(n["c"])({url:i.adNetworkList,method:"get",params:e})}function A(e){return Object(n["c"])({url:i.adNetworkAppCreate,method:"post",data:e})}function P(e){return Object(n["c"])({url:i.adNetworkAppUpdate,method:"post",data:e})}function _(e){return Object(n["c"])({url:i.adNetworkAppStatusUpdate,method:"get",params:e})}function R(e){return Object(n["c"])({url:i.adNetworkInstancesList,method:"get",params:e})}function D(e){return Object(n["c"])({url:i.admobGrantToken,method:"get",params:e})}},"9d4c":function(e,t,a){"use strict";var n=a("490b"),i=a.n(n);i.a},a230:function(e,t,a){},a444:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("div",{staticStyle:{color:"#333333","font-size":"20px","font-weight":"500"}},[e._v(" "+e._s(e.name)+" ")]),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[0===e.type?a("span",[e._v("Banner")]):e._e(),1===e.type?a("span",[e._v("Native")]):e._e(),2===e.type?a("span",[e._v("Rewarded Video")]):e._e(),3===e.type?a("span",[e._v("Interstitial")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.id)+" ")],1)])])},i=[],r=(a("a9e3"),{name:"Placement",props:{id:{type:Number,required:!1,default:0},name:{type:String,required:!1,default:""},type:{type:Number,required:!0}},data:function(){return{}}}),o=r,s=(a("7d3d"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"3d4c8e8c",null);t["a"]=l.exports},b107:function(e,t,a){},b28d:function(e,t,a){},b8ad:function(e,t,a){(function(t,a){e.exports=a()})(0,(function(){"use strict";function e(e,t,a){a=a||{},a.childrenKeyName=a.childrenKeyName||"children";var n=e||[],i=[],r=0;do{var o=n.filter((function(e){return t(e,r)}))[0];if(!o)break;i.push(o),n=o[a.childrenKeyName]||[],r+=1}while(n.length>0);return i}return e}))},bc0f:function(e,t,a){"use strict";var n=a("dfa5"),i=a.n(n);i.a},c2b3:function(e,t,a){"use strict";function n(e,t){if(e===t)return!0;if(!e||!t)return!1;var a=e.length;if(t.length!==a)return!1;for(var n=0;n<a;n++)if(e[n]!==t[n])return!1;return!0}e.exports=n},cd53:function(e,t,a){"use strict";var n=a("3fc1"),i=a.n(n);i.a},cda8:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:e.status?null:"opacity: 0.3;"},[a("div",{staticStyle:{display:"inline-block"}},[a("div",{staticStyle:{color:"#333333","font-size":"14px","margin-bottom":"5px"}},[a("ellipsis",{attrs:{length:20,tooltip:""}},[e._v(e._s(e.name))])],1),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[0===e.type?a("span",[e._v("Banner")]):e._e(),1===e.type?a("span",[e._v("Native")]):e._e(),2===e.type?a("span",[e._v("Rewarded Video")]):e._e(),3===e.type?a("span",[e._v("Interstitial")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("span",{staticStyle:{"margin-left":"-2px"}},[e._v(e._s(e.id))])],1)])])},i=[],r=(a("a9e3"),a("2af9")),o={name:"OmPlacementInfo",props:{id:{type:Number,required:!1,default:0},name:{type:String,required:!0,default:""},type:{type:Number,required:!1,default:0},status:{type:Number,required:!1,default:1}},components:{Ellipsis:r["a"]},data:function(){return{visible:!0}}},s=o,l=a("2877"),c=Object(l["a"])(s,n,i,!1,null,"d97fb474",null);t["a"]=c.exports},d2f9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("9b57"),i=d(n),r=a("41b2"),o=d(r);t.cloneVNode=u,t.cloneVNodes=p,t.cloneElement=h;var s=a("73c8"),l=a("4d26"),c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var a=e.componentOptions,n=e.data,i={};a&&a.listeners&&(i=(0,o["default"])({},a.listeners));var r={};n&&n.on&&(r=(0,o["default"])({},n.on));var s=new e.constructor(e.tag,n?(0,o["default"])({},n,{on:r}):n,e.children,e.text,e.elm,e.context,a?(0,o["default"])({},a,{listeners:i}):a,e.asyncFactory);return s.ns=e.ns,s.isStatic=e.isStatic,s.key=e.key,s.isComment=e.isComment,s.fnContext=e.fnContext,s.fnOptions=e.fnOptions,s.fnScopeId=e.fnScopeId,s.isCloned=!0,t&&(e.children&&(s.children=p(e.children,!0)),a&&a.children&&(a.children=p(a.children,!0))),s}function p(e,t){for(var a=e.length,n=new Array(a),i=0;i<a;i++)n[i]=u(e[i],t);return n}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2],n=e;if(Array.isArray(e)&&(n=(0,s.filterEmpty)(e)[0]),!n)return null;var r=u(n,a),l=t.props,d=void 0===l?{}:l,p=t.key,h=t.on,f=void 0===h?{}:h,m=t.children,g=t.directives,v=void 0===g?[]:g,b=r.data||{},y={},x={},w=t.attrs,S=void 0===w?{}:w,O=t.ref,C=t.domProps,k=void 0===C?{}:C,A=t.style,P=void 0===A?{}:A,_=t["class"],R=void 0===_?{}:_,D=t.scopedSlots,I=void 0===D?{}:D;return x="string"===typeof b.style?(0,s.parseStyleText)(b.style):(0,o["default"])({},b.style,x),x="string"===typeof P?(0,o["default"])({},x,(0,s.parseStyleText)(x)):(0,o["default"])({},x,P),"string"===typeof b["class"]&&""!==b["class"].trim()?b["class"].split(" ").forEach((function(e){y[e.trim()]=!0})):Array.isArray(b["class"])?(0,c["default"])(b["class"]).split(" ").forEach((function(e){y[e.trim()]=!0})):y=(0,o["default"])({},b["class"],y),"string"===typeof R&&""!==R.trim()?R.split(" ").forEach((function(e){y[e.trim()]=!0})):y=(0,o["default"])({},y,R),r.data=(0,o["default"])({},b,{style:x,attrs:(0,o["default"])({},b.attrs,S),class:y,domProps:(0,o["default"])({},b.domProps,k),scopedSlots:(0,o["default"])({},b.scopedSlots,I),directives:[].concat((0,i["default"])(b.directives||[]),(0,i["default"])(v))}),r.componentOptions?(r.componentOptions.propsData=r.componentOptions.propsData||{},r.componentOptions.listeners=r.componentOptions.listeners||{},r.componentOptions.propsData=(0,o["default"])({},r.componentOptions.propsData,d),r.componentOptions.listeners=(0,o["default"])({},r.componentOptions.listeners,f),m&&(r.componentOptions.children=m)):r.data.on=(0,o["default"])({},r.data.on||{},f),r.fnOptions&&r.fnOptions.functional&&(r.data.on=(0,o["default"])({},r.data.on||{},f)),void 0!==p&&(r.key=p,r.data.key=p),"string"===typeof O&&(r.data.ref=O),r}},d5d5:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-select",{staticClass:"plcament-select",staticStyle:{width:"256px",position:"absolute",right:"0","z-index":"100",top:"12px"},attrs:{dropdownMatchSelectWidth:!1,showArrow:!1,optionLabelProp:"title"},on:{change:e.handleChange},model:{value:e.selectePlc,callback:function(t){e.selectePlc=t},expression:"selectePlc"}},e._l(e.plcList,(function(e){return a("a-select-option",{key:e.id,attrs:{title:e.name}},[a("om-placement-info",{attrs:{type:e.adType,name:e.name,id:e.id}})],1)})),1)},i=[],r=(a("7db0"),a("2af9")),o=a("283f"),s=a("5880"),l=a("cda8"),c={name:"PlacementSelect",components:{Ellipsis:r["a"],OmPlacementInfo:l["a"]},data:function(){return{plcList:{},selectePlc:""}},methods:{handleChange:function(e,t){var a=this.plcList.find((function(t){return t.id===e}));a&&this.$store.commit("SET_PLACEMENT",a)},updateSelectList:function(e){if(e){var t=this,a=localStorage.getItem("searchPlacement");Object(o["k"])({pubAppId:e}).then((function(e){if(0===e.code&&e.data.length)if(t.plcList=e.data,a){var n=e.data.find((function(e){return e.id===parseInt(a)}));n?(t.selectePlc=parseInt(a),t.$store.commit("SET_PLACEMENT",n)):(t.selectePlc=t.plcList[0].id,t.$store.commit("SET_PLACEMENT",t.plcList[0]))}else t.selectePlc=t.plcList[0].id,t.$store.commit("SET_PLACEMENT",t.plcList[0])}))}}},created:function(){this.updateSelectList(this.searchApp)},computed:Object(s["mapState"])({searchApp:function(e){return e.publisher.searchApp},searchPlacement:function(e){return e.publisher.searchPlacement},searchPlacementName:function(e){return e.publisher.searchPlacementName},searchPlacementType:function(e){return e.publisher.searchPlacementType}}),watch:{searchApp:function(e){this.updateSelectList(e)}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,i,!1,null,null,null);t["a"]=p.exports},d938:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSELECTABLE_ATTRIBUTE=t.UNSELECTABLE_STYLE=void 0;var n=a("1098"),i=s(n);t.toTitle=l,t.getValuePropValue=c,t.getPropValue=d,t.isMultiple=u,t.isCombobox=p,t.isMultipleOrTags=h,t.isMultipleOrTagsOrCombobox=f,t.isSingleMode=m,t.toArray=g,t.getMapKey=v,t.preventDefaultEvent=b,t.findIndexInValueBySingleValue=y,t.getLabelFromPropsValue=x,t.getSelectKeys=w,t.findFirstMenuItem=S,t.includesSeparators=O,t.splitBySeparators=C,t.defaultFilterFn=k,t.validateOptionValue=A,t.saveRef=P,t.generateUUID=_;var r=a("73c8"),o=a("d2f9");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return"string"===typeof e?e.trim():""}function c(e){if(!e)return null;var t=(0,r.getPropsData)(e);if("value"in t)return t.value;if(void 0!==(0,r.getKey)(e))return(0,r.getKey)(e);if((0,r.getSlotOptions)(e).isSelectOptGroup){var a=(0,r.getComponentFromProp)(e,"label");if(a)return a}throw new Error("Need at least a key or a value or a label (only for OptGroup) for "+e)}function d(e,t){if("value"===t)return c(e);if("children"===t){var a=e.$slots?(0,o.cloneVNodes)(e.$slots["default"],!0):(0,o.cloneVNodes)(e.componentOptions.children,!0);return 1!==a.length||a[0].tag?a:a[0].text}var n=(0,r.getPropsData)(e);return t in n?n[t]:(0,r.getAttrs)(e)[t]}function u(e){return e.multiple}function p(e){return e.combobox}function h(e){return e.multiple||e.tags}function f(e){return h(e)||p(e)}function m(e){return!f(e)}function g(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function v(e){return("undefined"===typeof e?"undefined":(0,i["default"])(e))+"-"+e}function b(e){e.preventDefault()}function y(e,t){var a=-1;if(e)for(var n=0;n<e.length;n++)if(e[n]===t){a=n;break}return a}function x(e,t){var a=void 0;if(e=g(e),e)for(var n=0;n<e.length;n++)if(e[n].key===t){a=e[n].label;break}return a}function w(e,t){if(null===t||void 0===t)return[];var a=[];return e.forEach((function(e){if((0,r.getSlotOptions)(e).isMenuItemGroup)a=a.concat(w(e.componentOptions.children,t));else{var n=c(e),i=e.key;-1!==y(t,n)&&void 0!==i&&a.push(i)}})),a}t.UNSELECTABLE_STYLE={userSelect:"none",WebkitUserSelect:"none"},t.UNSELECTABLE_ATTRIBUTE={unselectable:"on"};function S(e){for(var t=0;t<e.length;t++){var a=e[t],n=(0,r.getPropsData)(a);if((0,r.getSlotOptions)(a).isMenuItemGroup){var i=S(a.componentOptions.children);if(i)return i}else if(!n.disabled)return a}return null}function O(e,t){for(var a=0;a<t.length;++a)if(e.lastIndexOf(t[a])>0)return!0;return!1}function C(e,t){var a=new RegExp("["+t.join()+"]");return e.split(a).filter((function(e){return e}))}function k(e,t){var a=(0,r.getPropsData)(t);if(a.disabled)return!1;var n=d(t,this.optionFilterProp);return n=n.length&&n[0].text?n[0].text:String(n),n.toLowerCase().indexOf(e.toLowerCase())>-1}function A(e,t){if(!m(t)&&!u(t)&&"string"!==typeof e)throw new Error("Invalid `value` of type `"+("undefined"===typeof e?"undefined":(0,i["default"])(e))+"` supplied to Option, expected `string` when `tags/combobox` is `true`.")}function P(e,t){return function(a){e[t]=a}}function _(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?a:7&a|8).toString(16)}));return t}},de20:function(e,t,a){"use strict";var n=a("b28d"),i=a.n(n);i.a},dfa5:function(e,t,a){},f60c:function(e,t,a){"use strict";var n=a("b107"),i=a.n(n);i.a}}]);