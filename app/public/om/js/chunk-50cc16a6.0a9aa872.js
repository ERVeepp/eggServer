(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50cc16a6"],{"14eb":function(e,t,a){"use strict";var n=a("d78c"),i=a.n(n);i.a},2202:function(e,t,a){},"343e":function(e,t,a){"use strict";var n=a("840c"),i=a.n(n);i.a},"36c4":function(e,t,a){},"3e71":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{attrs:{laout:"inline"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.modelName,{initialValue:e.initValue}],expression:"[modelName, {initialValue: initValue}]"}],style:{width:e.width},attrs:{showSearch:"",placeholder:"Instance",size:"default",disabled:e.disabled,mode:e.mode,showArrow:!1,allowClear:"",optionLabelProp:"title",filterOption:e.instanceFilterOption},on:{change:e.handleChange}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("div",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("div",{staticStyle:{color:"#333333","font-size":"14px"}},[a("ellipsis",{attrs:{length:20}},[e._v(e._s(t.name))])],1),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[a("ellipsis",{attrs:{length:26}},[e._v(e._s(t.placementKey))])],1)]),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.placementKey+" "+t.name))])])})),1)],1)},i=[],r=(a("c975"),a("a9e3"),a("2af9")),s=a("86b9"),o={name:"OmInstanceSelect",components:{Ellipsis:r["a"]},props:{modelName:{type:String,default:"instanceId"},width:{type:String,default:"220px"},mode:{type:String,default:"default"},defaultValue:{type:Array,default:function(){return[]}},placementId:{type:Number,default:null},hb:{type:Number,default:null},adnAppId:{type:Number,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{data:[],initValue:this.defaultValue}},methods:{handleChange:function(e,t){this.$emit("change",e),this.$emit("instanceSelecteChange",e)},instanceFilterOption:function(e,t){return t.componentOptions.children[1].children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},setOptions:function(){var e=this,t=this.$store.state.publisher.searchApp;if(!this.data||0===this.data.length){var a={pubAppId:t,placementId:this.placementId};null!==this.adnAppId&&(a.adNetworkAppId=this.adnAppId),null!==this.hb&&(a.headBid=this.hb),Object(s["k"])(a).then((function(t){0===t.code&&(e.data=t.data)}))}},upload:function(){var e=this,t=this.$store.state.publisher.searchApp,a={pubAppId:t,placementId:this.placementId};null!==this.adnAppId&&(a.adNetworkAppId=this.adnAppId),Object(s["k"])(a).then((function(t){0===t.code&&(e.data=t.data)}))}},created:function(){this.setOptions()},watch:{hb:function(e){this.setOptions()}}},l=o,c=a("2877"),d=Object(c["a"])(l,n,i,!1,null,"15ccb522",null);t["a"]=d.exports},"688c":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 1===e.id?a("div",[a("om-form",{attrs:{label:"App Key",edit:e.canEdit,field:"adnAppKey",showTip:!1}}),a("om-form",{attrs:{label:"API Token",edit:e.canEdit,field:"refreshToken",showTip:!1}})],1):2===e.id?a("div",[a("om-form",{attrs:{label:"App ID",edit:e.canEdit,field:"adnAppKey",tip:'From <a target="_blank" href="https://apps.admob.com/?pli=1#account/settings:view">the AdMob Monetize page</a>, select "All Apps" in the left sidebar, then choose your app. Click "View setup instructions" and copy the App ID displayed in the instructions. Make sure you use the same account as you do for the "Grant Access" button above otherwise the access will not be granted.'}}),a("om-form",{attrs:{label:"Publisher ID",fill:!1,edit:e.canEdit,field:"reportAppId",tip:'From <a target="_blank" href="https://apps.admob.com/?pli=1#account/settings:view">the AdMob Monetize page</a>,Click the user avatar to get publisher id,Publisher ID like pub-xxxxxxxxxx'}}),a("om-form",{attrs:{label:"Client ID",fill:!1,edit:e.canEdit,field:"clientId",tip:'From <a target="_blank" href="https://console.developers.google.com/">the Google Api Credentials page</a>,OAuth 2.0 Client IDs'}}),a("om-form",{attrs:{label:"Client Secrect",fill:!1,edit:e.canEdit,field:"clientSecret",tip:'From <a target="_blank" href="https://console.developers.google.com/">the Google Api Credentials page</a>,Download OAuth 2.0 Client json file and copy this file content to here'}})],1):3===e.id?a("div",[a("om-form",{attrs:{label:"App ID",edit:e.canEdit,field:"adnAppKey",tip:'You can find your App ID on your app\'s <a target="_blank" href="https://developers.facebook.com/apps">settings page.</a>'}}),a("om-form",{attrs:{label:"App Secret",fill:!1,edit:e.canEdit,field:"apiKey",showTip:!1}}),a("om-form",{attrs:{label:"System User Access Token",fill:!1,edit:e.canEdit,field:"refreshToken",tip:'App tokens for all of your apps are listed <a target="_blank" href="https://developers.facebook.com/tools/accesstoken/">here</a>. You must be an administrator of the app to see them.'}})],1):4===e.id?a("div",[a("om-form",{attrs:{label:"Game ID",edit:e.canEdit,field:"adnAppKey",tip:'From the <a target="_blank" href="https://dashboard.unityads.unity3d.com/">UnityAds dashboard</a>, choose your game. Your Game ID will be listed next to the platform.'}}),a("om-form",{attrs:{label:"API Key",fill:!1,edit:e.canEdit,field:"apiKey",tip:'Your API key is found on the API keys tab of the <a target="_blank" href="https://dashboard.unityads.unity3d.com/">UnityAds dashboard</a>.'}})],1):5===e.id?a("div",[a("om-form",{attrs:{label:"App ID",edit:e.canEdit,field:"adnAppKey",tip:'From the <a target="_blank" href="https://dashboard.vungle.com/dashboard/accounts/details">Vungle Details Dashboard</a>, select your application. On the next page, find the Vungle App ID in the Application Details column.'}}),a("om-form",{attrs:{label:"Reporting API ID",fill:!1,edit:e.canEdit,field:"reportAppId",tip:'From the <a target="_blank" href="https://dashboard.vungle.com/dashboard/accounts/details">Vungle Details Dashboard</a>, find your Reporting API ID towards the bottom of the page. If you do not already have a Report ID, email Vungle at account-managers@vungle.com to request one.'}}),a("om-form",{attrs:{label:"Reporting API Key",fill:!1,edit:e.canEdit,field:"apiKey",tip:'From the <a target="_blank" href="https://dashboard.vungle.com/dashboard/accounts/details">Vungle Details Dashboard</a>, select your application. On the next page, find the Reporting API Key in the Application Details column.'}})],1):7===e.id?a("div",[a("om-form",{attrs:{label:"APP ID",edit:e.canEdit,field:"adnAppKey",tip:'Your API key will be labeled as "Read-Only API Key" on <a target="_blank" href="https://clients.adcolony.com/users/edit">this page</a>'}}),a("om-form",{attrs:{label:"Read-Only API Key",fill:!1,edit:e.canEdit,field:"clientSecret",tip:'To get User Credentials on <a target="_blank" href="https://clients.adcolony.com/users/edit">this page</a>'}})],1):8===e.id?a("div",[a("om-form",{attrs:{label:"SDK Key",edit:e.canEdit,field:"adnAppKey",tip:'From your <a target="_blank" href="https://applovin.com/users/edit">Account page</a>, choose "Keys" in the left sidebar, then select the SDK Key.'}}),a("om-form",{attrs:{label:"Report Key",fill:!1,edit:e.canEdit,field:"apiKey",tip:'From your <a target="_blank" href="https://applovin.com/users/edit">Account page</a>, choose "Keys" in the left sidebar, then select the Report Key. If you do not see the Report Key field, email support@applovin.com and request your reporting key.'}})],1):9===e.id?a("div",[a("om-form",{attrs:{label:"API Key",fill:!1,edit:e.canEdit,field:"adnAppKey",tip:'From the <a target="_blank" href="https://app.mopub.com/reports/custom/">Reports page</a>, check "Enable data access through API". Then click the "View API Access Details" link to reveal your API Key.'}}),a("om-form",{attrs:{label:"Inventory Report ID",fill:!1,edit:e.canEdit,field:"apiKey",tip:'From the <a target="_blank" href="https://app.mopub.com/reports/custom/">Reports page</a>, click the "View API Access Details" link to reveal your Inventory Report ID.'}})],1):11===e.id?a("div",[a("om-form",{attrs:{label:"SDK Key",edit:e.canEdit,field:"adnAppKey",tip:"This is available on the App Info tab under Settings -> App Settings on the Tapjoy Monetization Dashboard."}}),a("om-form",{attrs:{label:"Publisher Reporting API Key",fill:!1,edit:e.canEdit,field:"refreshToken",tip:"This is available on the App Info tab under Settings -> App Settings on the Tapjoy Monetization Dashboard."}}),a("om-form",{attrs:{label:"Ad Reporting API Key",fill:!1,edit:e.canEdit,field:"apiKey",tip:"This is available on the App Info tab under Settings -> App Settings on the Tapjoy Monetization Dashboard."}})],1):12===e.id?a("div",[a("om-form",{attrs:{label:"App ID",hint:"App ID#App Signature",edit:e.canEdit,field:"adnAppKey",tip:'You can find your game\'s App ID on its App Settings page on the <a target="_blank" href="https://dashboard.chartboost.com/">Chartboost dashboard</a>. See <a target="_blank" href="https://answers.chartboost.com/hc/en-us/articles/201465075">this Chartboost documentation for a screenshot.</a>'}}),a("om-form",{attrs:{label:"User ID",fill:!1,edit:e.canEdit,field:"apiKey",tip:'From the <a target="_blank" href="https://dashboard.chartboost.com/tools/api">API Explorer Page</a>, select the User ID'}}),a("om-form",{attrs:{label:"User Signature",fill:!1,field:"clientSecret",tip:'From the <a target="_blank" href="https://dashboard.chartboost.com/tools/api">API Explorer Page</a>, select the User Signature.'}})],1):13===e.id?a("div",[a("om-form",{attrs:{label:"App ID",edit:e.canEdit,field:"adnAppKey",showTip:!1}}),a("om-form",{attrs:{label:"User ID",fill:!1,edit:e.canEdit,field:"apiKey",showTip:!1}}),a("om-form",{attrs:{label:"Security-Key",fill:!1,edit:e.canEdit,field:"clientSecret",showTip:!1}})],1):14===e.id?a("div",[a("om-form",{attrs:{label:"App ID",hint:"App ID#App Key",edit:e.canEdit,field:"adnAppKey",showTip:!1}}),a("om-form",{attrs:{label:"Report API SKey",fill:!1,edit:e.canEdit,field:"apiKey",showTip:!1}}),a("om-form",{attrs:{label:"Report API Secret",fill:!1,edit:e.canEdit,field:"clientSecret",showTip:!1}})],1):6===e.id?a("div",[a("om-form",{attrs:{label:"APP ID",edit:e.canEdit,field:"adnAppKey",tip:'From this <a target="_blank" href="http://adnet.qq.com/medium/list">Medium</a> page to get your App ID'}})],1):9===e.id?a("div",[a("om-form",{attrs:{label:"API Key",fill:!1,edit:e.canEdit,field:"adnAppKey",tip:'From the <a target="_blank" href="https://app.mopub.com/reports/custom/">Reports page</a>, check "Enable data access through API". Then click the "View API Access Details" link to reveal your API Key.'}}),a("om-form",{attrs:{label:"Inventory Report ID",fill:!1,edit:e.canEdit,field:"apiKey",tip:'From the <a target="_blank" href="https://app.mopub.com/reports/custom/">Reports page</a>, click the "View API Access Details" link to reveal your Inventory Report ID.'}})],1):15===e.id?a("div",[a("om-form",{attrs:{label:"App Key",edit:e.canEdit,field:"adnAppKey",tip:'From this <a target="_blank" href="https://platform.ironsrc.com/partners/applications">App Management</a> page to get your App Key'}}),a("om-form",{attrs:{label:"User Name",fill:!1,edit:e.canEdit,field:"clientId",tip:'From <a target="_blank" href="https://platform.ironsrc.com/partners/account/generalInfo">ironSource My Account</a> page,selected User Info Tab to get your User Name'}}),a("om-form",{attrs:{label:"Secret Key",fill:!1,edit:e.canEdit,field:"clientSecret",tip:'From <a target="_blank" href="https://platform.ironsrc.com/partners/account/apiDetails">ironSource My Account</a> page,selected API Tab to get your Secret Key'}})],1):17===e.id?a("div",[a("om-form",{attrs:{label:"Init ID",edit:e.canEdit,field:"adnAppKey"}})],1):18===e.id?a("div",[a("om-form",{attrs:{label:"App Key",edit:e.canEdit,field:"adnAppKey"}}),a("om-form",{attrs:{label:"User Name",fill:!1,edit:e.canEdit,field:"clientId"}}),a("om-form",{attrs:{label:"Secret Key",fill:!1,edit:e.canEdit,field:"clientSecret"}})],1):e._e()},i=[],r=(a("a9e3"),a("5880")),s=a("9c76"),o={components:{omForm:s["a"]},data:function(){return{labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:7},sm:{span:7}},canEdit:this.edit}},name:"CreateNetworkApp",props:{id:{type:Number,required:!0},edit:{type:Boolean,default:!0}},computed:Object(r["mapState"])({searchApp:function(e){return e.publisher.searchApp}}),watch:{edit:function(e){this.canEdit=e}}},l=o,c=(a("14eb"),a("2877")),d=Object(c["a"])(l,n,i,!1,null,"5a9b223b",null);t["a"]=d.exports},"7d3d":function(e,t,a){"use strict";var n=a("2202"),i=a.n(n);i.a},"840c":function(e,t,a){},"86b9":function(e,t,a){"use strict";a.d(t,"i",(function(){return r})),a.d(t,"x",(function(){return s})),a.d(t,"s",(function(){return o})),a.d(t,"q",(function(){return l})),a.d(t,"y",(function(){return c})),a.d(t,"p",(function(){return d})),a.d(t,"w",(function(){return p})),a.d(t,"r",(function(){return u})),a.d(t,"u",(function(){return m})),a.d(t,"g",(function(){return h})),a.d(t,"z",(function(){return f})),a.d(t,"o",(function(){return b})),a.d(t,"n",(function(){return y})),a.d(t,"t",(function(){return g})),a.d(t,"v",(function(){return v})),a.d(t,"k",(function(){return I})),a.d(t,"b",(function(){return w})),a.d(t,"l",(function(){return A})),a.d(t,"m",(function(){return x})),a.d(t,"j",(function(){return k})),a.d(t,"f",(function(){return S})),a.d(t,"a",(function(){return O})),a.d(t,"d",(function(){return _})),a.d(t,"c",(function(){return C})),a.d(t,"e",(function(){return N})),a.d(t,"h",(function(){return K}));var n=a("b775"),i={adNetworkList:"app/adnetwork/list",adNetworkSelectList:"/adnetwork/select/list",adNetworkAppList:"/adnetwork/app/list",adNetworkAppGet:"/adnetwork/app/get",adNetworkAppUpdate:"/adnetwork/app/update",adNetworkAppCreate:"/adnetwork/app/create",adNetworkAppStatusUpdate:"/adnetwork/app/status/update",adNetworkInstancesList:"/adnetwork/placement/instances",instancesStatusUpdate:"/instance/update/status",instancesUpdate:"/instance/update",instancesCreate:"/instance/create",getInstance:"/instance/get",instancesSelectList:"/instance/select/list",segmentList:"/mediation/segment/list",segmentGet:"/mediation/segment/get",segmentUpdate:"/mediation/segment/update",segmentCreate:"/mediation/segment/create",segmentRuleUpdate:"/mediation/segment/rule/update",mediationRuleInstanceList:"/mediation/segment/instance/list",mediationRuleInstanceUpdate:"/mediation/segment/instance/update",mediationSegmentRuleInstanceCreate:"/mediation/segment/rule/instance/create",mediationSegmentRuleInstanceDelete:"/mediation/segment/rule/instance/delete",regionList:"/util/country/list",segmentResortPriority:"/mediation/segment/resort/priority",rulePriorityUpdate:"/mediation/rule/resort/priority",segmentRuleDelete:"/mediation/segment/rule/delete",admobGrantToken:"/report/callback/oauth2authorize"};function r(e){return Object(n["c"])({url:i.getInstance,method:"get",params:e})}function s(e){return Object(n["c"])({url:i.segmentRuleDelete,method:"get",params:e})}function o(e){return Object(n["c"])({url:i.rulePriorityUpdate,method:"get",params:e})}function l(e){return Object(n["c"])({url:i.mediationSegmentRuleInstanceDelete,method:"get",params:e})}function c(e){return Object(n["c"])({url:i.segmentRuleUpdate,method:"post",data:e})}function d(e){return Object(n["c"])({url:i.mediationSegmentRuleInstanceCreate,method:"post",data:e})}function p(e){return Object(n["c"])({url:i.segmentResortPriority,method:"get",params:e})}function u(e){return Object(n["c"])({url:i.regionList,method:"get",params:e})}function m(e){return Object(n["c"])({url:i.segmentGet,method:"get",params:e})}function h(e){return Object(n["c"])({url:i.adNetworkSelectList,method:"get",params:e})}function f(e){return Object(n["c"])({url:i.segmentUpdate,method:"post",data:e})}function b(e){return Object(n["c"])({url:i.mediationRuleInstanceUpdate,method:"post",data:e})}function y(e){return Object(n["c"])({url:i.mediationRuleInstanceList,method:"get",params:e})}function g(e){return Object(n["c"])({url:i.segmentCreate,method:"post",data:e})}function v(e){return Object(n["c"])({url:i.segmentList,method:"get",params:e})}function I(e){return Object(n["c"])({url:i.instancesSelectList,method:"get",params:e})}function w(e){return Object(n["c"])({url:i.adNetworkAppGet,method:"get",params:e})}function A(e){return Object(n["c"])({url:i.instancesStatusUpdate,method:"get",params:e})}function x(e){return Object(n["c"])({url:i.instancesUpdate,method:"post",data:e})}function k(e){return Object(n["c"])({url:i.instancesCreate,method:"post",data:e})}function S(e){return Object(n["c"])({url:i.adNetworkList,method:"get",params:e})}function O(e){return Object(n["c"])({url:i.adNetworkAppCreate,method:"post",data:e})}function _(e){return Object(n["c"])({url:i.adNetworkAppUpdate,method:"post",data:e})}function C(e){return Object(n["c"])({url:i.adNetworkAppStatusUpdate,method:"get",params:e})}function N(e){return Object(n["c"])({url:i.adNetworkInstancesList,method:"get",params:e})}function K(e){return Object(n["c"])({url:i.admobGrantToken,method:"get",params:e})}},"9c76":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",{staticStyle:{"margin-bottom":"20px"},attrs:{colon:!1,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("span",{attrs:{slot:"label"},slot:"label"},[e.fill?a("img",{attrs:{src:"/assets/Vector.svg"}}):e._e(),e._v(" "+e._s(e.label)+" ")]),e._t("default",[e.fill?a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field,{rules:[{whitespace:!0,required:!0,message:e.label+" can not be empty."}]}],expression:"[field, { rules: [{ whitespace: true, required: true, message: label + ' can not be empty.'}] }]"}],attrs:{placeholder:e.hint,disabled:!e.canEdit,maxlength:e.maxlength}}):a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.field],expression:"[field]"}],attrs:{disabled:!e.canEdit,placeholder:e.hint,maxlength:e.maxlength}})]),e.showTip?a("a-tooltip",{attrs:{placement:"right",mouseEnterDelay:.4,mouseLeaveDelay:.4}},[a("p",{attrs:{slot:"title"},domProps:{innerHTML:e._s(e.tip)},slot:"title"}),a("a",{staticClass:"tip",attrs:{href:"#"}},[a("a-icon",{attrs:{type:"exclamation-circle"}})],1)]):e._e()],2)},i=[],r=(a("a9e3"),{data:function(){return{labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:7},sm:{span:7}},canEdit:this.edit}},name:"OmForm",props:{label:{type:String,default:""},fill:{type:Boolean,default:!0},field:{type:String,default:""},tip:{type:String,default:""},showTip:{type:Boolean,default:!0},maxlength:{type:Number,default:1e3},edit:{type:Boolean,default:!0},hint:{type:String,default:""}},watch:{edit:function(e){this.canEdit=e}}}),s=r,o=(a("d81d7"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"1e293411",null);t["a"]=l.exports},a444:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{display:"inline-block","vertical-align":"middle"}},[a("div",{staticStyle:{color:"#333333","font-size":"20px","font-weight":"500"}},[e._v(" "+e._s(e.name)+" ")]),a("div",{staticStyle:{color:"#999999","font-size":"12px"}},[0===e.type?a("span",[e._v("Banner")]):e._e(),1===e.type?a("span",[e._v("Native")]):e._e(),2===e.type?a("span",[e._v("Rewarded Video")]):e._e(),3===e.type?a("span",[e._v("Interstitial")]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),e._v(" "+e._s(e.id)+" ")],1)])])},i=[],r=(a("a9e3"),{name:"Placement",props:{id:{type:Number,required:!1,default:0},name:{type:String,required:!1,default:""},type:{type:Number,required:!0}},data:function(){return{}}}),s=r,o=(a("7d3d"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"3d4c8e8c",null);t["a"]=l.exports},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n["a"])(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,s=!0,o=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(o)throw r}}}}},c5b2:function(e,t,a){"use strict";var n=a("ce27"),i=a.n(n);i.a},ce27:function(e,t,a){},d2fb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ellipsis",{style:e.status?null:"opacity: 0.3;",attrs:{length:e.length,tooltip:e.tooltip}},[e._v(e._s(e.text))])},i=[],r=(a("a9e3"),a("2af9")),s={name:"OmText",props:{length:{type:Number,default:30},text:{type:String,required:!0},status:{type:Number,required:!1,default:1},tooltip:{type:Boolean,default:!0}},components:{Ellipsis:r["a"]}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,null,null);t["a"]=c.exports},d78c:function(e,t,a){},d81d7:function(e,t,a){"use strict";var n=a("36c4"),i=a.n(n);i.a},ff76:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form,hideRequiredMark:!0}},[a("div",{staticClass:"adnedit"},[a("a-card",{attrs:{bordered:!1}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("TitleIcon",{attrs:{name:e.adNetworkName,adTypes:e.adTypes}})],1),a("CreateNetWorkApp",{staticStyle:{"margin-top":"24px"},attrs:{id:this.id}}),a("a-form-item",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],staticStyle:{"margin-bottom":"16px"},attrs:{wrapperCol:{span:11,offset:11}}},[a("a-button",{staticStyle:{"margin-right":"50px"},attrs:{type:"primary"},on:{click:e.saveAdNetworkApp}},[e._v("Save")]),e.showGrant?a("a-button",{attrs:{type:"primary",disabled:!e.canGrant},on:{click:e.grantToken}},[e._v("Token Grant")]):e._e()],1)],1),a("a-card",{staticStyle:{"margin-top":"6px"},attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper",staticStyle:{"padding-top":"24px","padding-right":"24px","margin-bottom":"-24px"}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-form-item",{staticStyle:{"margin-left":"24px",display:"inline-block",width:"220px"}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["placementId"],expression:"['placementId']"}],attrs:{showSearch:"",placeholder:"Placement",filterOption:e.placementFilterOption},on:{change:e.selectPlacementChange}},[a("span",{attrs:{slot:"maxTagPlaceholder"},slot:"maxTagPlaceholder"},[e._v("+")]),e._l(this.placementSelectOption,(function(t){return a("a-select-option",{key:t.id},[e._v(e._s(t.name)),a("p",{staticStyle:{display:"none"}},[e._v(e._s(t.id))])])}))],2)],1),a("om-instance-select",{staticStyle:{"margin-left":"8px"},attrs:{adnAppId:this.adNetworkAppId}}),a("a-form-item",[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{staticStyle:{"margin-right":"8px","margin-left":"8px"},attrs:{type:"primary",ghost:""},on:{click:e.listSearch}},[e._v("Apply")]),a("a-button",{attrs:{type:"primary",ghost:""},on:{click:e.resetSearch}},[e._v("Clear")])],1)])],1)],1)]),a("a-card",{staticStyle:{"padding-left":"24px","padding-right":"24px"},attrs:{bordered:!1}},[e._l(e.list,(function(t){return a("div",{key:t.id},[a("div",{staticStyle:{"padding-top":"32px"}},[a("a-row",[a("a-col",{attrs:{md:4,sm:12}},[a("Placement",{attrs:{name:t.name,id:t.id,type:t.adType}})],1),a("a-col",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],attrs:{md:20,sm:12}},[a("span",{staticClass:"table-page-search-submitButtons",staticStyle:{float:"right","margin-top":"12px",overflow:"hidden"}},[a("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(a){return e.instanceAdd(t)}}},[e._v("Add Instance")])],1)])],1)],1),a("a-table",{ref:t.id+"table",refInFor:!0,staticClass:"ant-card-table-default-noshadow",staticStyle:{"margin-top":"16px"},attrs:{rowKey:"id",scroll:{y:540},dataSource:t.instances,expandedRowKeys:e.curExpandedRowKeys,columns:e.columns,expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"expandedRowRender",fn:function(t){return a("p",{staticStyle:{margin:"0"}},[a("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Header Bidding",colon:!1,labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:8},sm:{span:8}}}},[a("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"hbStatus"],expression:"[record.id+'hbStatus']"}],attrs:{size:"small",defaultChecked:!!t.hbStatus}})],1),a("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Frequency Cap",colon:!1,labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:8},sm:{span:8}}}},[e._v(" Limit to "),a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"frequencyCap",{initialValue:t.frequencyCap}],expression:"[record.id+'frequencyCap',{initialValue: record.frequencyCap}]"}],staticStyle:{width:"66px"},attrs:{type:"number",size:"small",min:0,max:9999}}),e._v(" impressions per "),a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"frequencyUnit",{initialValue:t.frequencyUnit}],expression:"[record.id+'frequencyUnit',{initialValue: record.frequencyUnit}]"}],staticStyle:{width:"50px"},attrs:{type:"number",size:"small",min:1,max:24}}),e._v(" hour(s) ")],1),a("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Pacing",colon:!1,labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:8},sm:{span:8}}}},[e._v(" Show a maximun ad 1ad per "),a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"frequencyInterval",{initialValue:t.frequencyInterval}],expression:"[record.id+'frequencyInterval',{initialValue: record.frequencyInterval}]"}],staticStyle:{width:"66px"},attrs:{type:"number",size:"small",min:0,max:1440}}),e._v(" minute(s) ")],1),a("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Device Brand",colon:!1,labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:8},sm:{span:8}}}},[a("a-input-group",{staticStyle:{"margin-top":"6px"},attrs:{compact:""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"brandType",{initialValue:t.brandType||"include"}],expression:"[record.id+'brandType',{initialValue: record.brandType || 'include'}]"}],staticStyle:{width:"100px"}},[a("a-select-option",{attrs:{value:"include"}},[e._v("include")]),a("a-select-option",{attrs:{value:"exclude"}},[e._v("exclude")])],1),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"brandList",{initialValue:t.brandList}],expression:"[record.id+'brandList',{initialValue: record.brandList}]"}],staticStyle:{width:"300px"},attrs:{value:e.value,filterOption:!1,notFoundContent:e.fetching?void 0:null,mode:"multiple"},on:{search:e.selectBrand,change:e.handleChange}},[e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.deviceData,(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.text))])}))],2)],1)],1),a("a-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"Device Model",colon:!1,labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:8},sm:{span:8}}}},[a("a-input-group",{staticStyle:{"margin-top":"6px"},attrs:{compact:""}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"modelType",{initialValue:t.modelType||"include"}],expression:"[record.id+'modelType',{initialValue: record.modelType || 'include'}]"}],staticStyle:{width:"100px"}},[a("a-select-option",{attrs:{value:"include"}},[e._v("include")]),a("a-select-option",{attrs:{value:"exclude"}},[e._v("exclude")])],1),a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"modelList",{initialValue:t.modelList}],expression:"[record.id+'modelList',{initialValue: record.modelList}]"}],staticStyle:{width:"300px"},attrs:{value:e.value,filterOption:!1,notFoundContent:e.fetching?void 0:null,mode:"multiple"},on:{search:e.selectModel,change:e.handleChange}},[e.fetching?a("a-spin",{attrs:{slot:"notFoundContent",size:"small"},slot:"notFoundContent"}):e._e(),e._l(e.deviceData,(function(t){return a("a-select-option",{key:t.value},[e._v(e._s(t.text))])}))],2)],1)],1)],1)}},{key:"status",fn:function(n,i){return a("span",{},[[i.expandStatus?a("div",[a("a",{attrs:{herf:"#"},on:{click:function(a){return e.handleInstanceSave(i,t.id||i.placementId)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{herf:"#"},on:{click:function(a){return e.handleInstanceCancel(i,t.id||i.placementId)}}},[e._v("Cancel")]),i.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(i)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(i)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])],1):a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleOpen(i)}}},[e._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handelInstanceStatusUpdate(i)}}},[e._v(e._s(0===n?"Enable":"Disable"))]),i.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(i)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(i)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])],1)]],2)}},{key:"placementKey",fn:function(t,n){return a("span",{staticClass:"row-edit"},[a("span",{style:0===n.status?"opacity: 0.3;":null},[n.expandStatus?a("a-form-item",{attrs:{size:"small"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"placementKey",{initialValue:n.placementKey,rules:[{required:!0,message:e.placementColumnName+" can not be empty."},{validator:e.checkPlacementKey}]}],expression:"[record.id+'placementKey',{initialValue: record.placementKey, rules: [{ required: true, message: placementColumnName + ' can not be empty.' }, {validator: checkPlacementKey}]}]"}],staticStyle:{"line-height":"0","margin-top":"0px"}})],1):a("span",{attrs:{title:n.id}},[a("ellipsis",{attrs:{length:30,tooltip:""}},[e._v(e._s(t))])],1)],1)])}},{key:"name",fn:function(t,n){return a("span",{staticClass:"row-edit"},[a("span",{style:0===n.status?"opacity: 0.3;":null},[n.expandStatus?a("a-form-item",{attrs:{size:"small"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"name",{initialValue:n.name,rules:[{required:!0,message:"Instance Name can not be empty."}]}],expression:"[record.id+'name',{initialValue: record.name, rules: [{ required: true, message: 'Instance Name can not be empty.' }]}]"}],staticStyle:{"line-height":"0","margin-top":"0px"},attrs:{maxlength:"40"}})],1):a("span",{staticClass:"hb-bottom"},[a("om-text",{attrs:{text:t}}),n.hbStatus?a("a-button",{staticStyle:{width:"100px","font-size":"12px","margin-left":"10px",height:"25px"},attrs:{type:"danger",ghost:""}},[e._v("Header bidding")]):e._e()],1)],1)])}}],null,!0)})],1)})),a("div",{staticStyle:{height:"24px",background:"#FFFFFF"}})],2)],1)])},i=[],r=(a("4de4"),a("7db0"),a("c740"),a("4160"),a("caad"),a("c975"),a("a15b"),a("d81d"),a("a434"),a("b0c0"),a("b64b"),a("ac1f"),a("5319"),a("159b"),a("b85c")),s=a("2909"),o=a("5530"),l=a("86b9"),c=a("688c"),d=a("a444"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("span",{staticClass:"item-title"},[e._v(e._s(e.name))]),e.adTypes.indexOf("RewardedVideo")>-1?a("img",{staticClass:"item-icon",attrs:{src:"/icon/placement/Video.svg"}}):e._e(),e.adTypes.indexOf("Interstitial")>-1?a("img",{staticClass:"item-icon",attrs:{src:"/icon/placement/Interstitial.svg"}}):e._e(),e.adTypes.indexOf("Native")>-1?a("img",{staticClass:"item-icon",attrs:{src:"/icon/placement/Native.svg"}}):e._e(),e.adTypes.indexOf("Banner")>-1?a("img",{staticClass:"item-icon",attrs:{src:"/icon/placement/banner.svg"}}):e._e(),e.adTypes.indexOf("Interactive")>-1?a("img",{staticClass:"item-icon",attrs:{src:"/icon/placement/iav.svg"}}):e._e()])},u=[],m={name:"AdType",props:{adTypes:{type:Array,required:!0},name:{type:String,required:!0}}},h=m,f=(a("c5b2"),a("2877")),b=Object(f["a"])(h,p,u,!1,null,"6b1d80f8",null),y=b.exports,g=a("283f"),v=a("3e71"),I=a("2af9"),w=a("d2fb"),A={name:"AdNetworkEdit",components:{CreateNetWorkApp:c["a"],TitleIcon:y,Placement:d["a"],Ellipsis:I["a"],OmInstanceSelect:v["a"],OmText:w["a"]},data:function(){var e=this.$auth("adn.edit"),t=[{title:"Instance Name",dataIndex:"name",width:"40%",scopedSlots:{customRender:"name"}},{title:this.placementColumnName,dataIndex:"placementKey",width:"40%",scopedSlots:{customRender:"placementKey"}},{title:"Operations",dataIndex:"status",scopedSlots:{customRender:"status"}}];e||t.pop();var a=this.$route.params,n=a.id,i=a.name,r=a.adTypes,s=a.adNetworkAppId,o=2===n,l=s>0;return{labelCol:{lg:{span:8},sm:{span:8}},wrapperCol:{lg:{span:7},sm:{span:7}},form:this.$form.createForm(this),searchOption:{},adNetworkName:i,adTypes:r,params:{},queryParam:{},curExpandedRowKeys:[],currentExpandedStatOpen:!1,id:n,placementSelectOption:[],instanceSelectOption:[],adNetworkAppId:s,data:[],value:[],list:[],deviceData:[],lastFetchId:0,fetching:!1,count:-100,columns:t,showGrant:o,canGrant:l}},mounted:function(){var e=this;this.list=this.$route.params.list,this.adNetworkAppId&&(this.arraySort(this.list),this.list.forEach((function(e){e.instances&&e.instances.forEach((function(e){e.hbStatus=0!==e.hbStatus}))})),Object(l["b"])({adNetworkAppId:this.adNetworkAppId}).then((function(t){0===t.code&&e.form.setFieldsValue(t.data)}))),Object(g["h"])({pubAppId:this.$store.state.publisher.searchApp}).then((function(t){0===t.code&&(e.placementSelectOption=t.data)})),Object(l["k"])({adNetworkId:this.id,placementId:this.$store.state.publisher.searchPlacementId||null,pubAppId:this.$store.state.publisher.searchApp}).then((function(t){0===t.code&&(e.instanceSelectOption=t.data)}))},beforeCreate:function(){switch(this.placementColumnName="Placement ID",this.$route.params.id){case 2:case 12:case 13:case 14:this.placementColumnName="Unit ID";break;case 5:this.placementColumnName="Reference ID";break;case 7:case 8:this.placementColumnName="Zone ID";break;case 9:this.placementColumnName="Ad Unit ID";break;case 11:this.placementColumnName="Placement Name";break;default:this.placementColumnName="Placement ID";break}},methods:{handleOpen:function(e){if(e["expandStatus"]=!e["expandStatus"],this.currentExpandedStatOpen=!this.currentExpandedStatOpen,this.curExpandedRowKeys.length>0){var t=this.curExpandedRowKeys.indexOf(e.id);t>-1?this.curExpandedRowKeys.splice(t,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},grantToken:function(){var e=this;if(this.adNetworkAppId){var t={adnAppId:this.adNetworkAppId};Object(l["h"])(t).then((function(t){0===t.code&&t.data?window.open(t.data,"newwindow","width=800, height=600"):e.$message.error(t.msg)}))}},saveAdNetworkApp:function(){var e=this,t=this.form.validateFields;t((function(t,a){t||(e.adNetworkAppId?(a.id=e.adNetworkAppId,Object(l["d"])(a).then((function(t){0===t.code?e.$router.push({name:"AdnList"}):e.$message.error("create adnetwork app error")}))):(a.adnId=e.$route.params.id,a.pubAppId=e.$store.state.publisher.searchApp,Object(l["a"])(a).then((function(t){0===t.code?(e.adNetworkAppId=t.data.id,e.$message.success("create adnetworkApp success")):e.$message.error("create adnetwork app error")}))))}))},checkPlacementKey:function(e,t,a){var n=this;if(t){var i=parseInt(e.field.replace("placementKey","")),r=!0;this.list.forEach((function(e){e.instances.forEach((function(e){e.placementKey!==t||e.id!==i||e.createNew||(a(),r=!1)}))})),r&&Object(l["i"])({placementKey:t}).then((function(e){e.data&&e.data.length?a(new Error("This "+n.placementColumnName+" already exits.")):a()}))}},handleInstanceSave:function(e,t){var a=this,n=this.form.validateFields,i=this;n((function(t,n){if(!t){var r=Object(o["a"])({},e);r.name=n[e.id+"name"],r.placementKey=n[e.id+"placementKey"],r.hbStatus=n[e.id+"hbStatus"]||0,r.frequencyCap=n[e.id+"frequencyCap"],r.frequencyInterval=n[e.id+"frequencyInterval"],r.frequencyUnit=n[e.id+"frequencyUnit"],r.brandWhitelist="include"===n[e.id+"brandType"]&&n[e.id+"brandList"]?n[e.id+"brandList"].join("\n"):"",r.brandBlacklist="exclude"===n[e.id+"brandType"]&&n[e.id+"brandList"]?n[e.id+"brandList"].join("\n"):"",r.modelWhitelist="include"===n[e.id+"modelType"]&&n[e.id+"modelList"]?n[e.id+"modelList"].join("\n"):"",r.modelBlacklist="exclude"===n[e.id+"modelType"]&&n[e.id+"modelList"]?n[e.id+"modelList"].join("\n"):"",r.hbStatus=n[e.id+"hbStatus"]?1:0,e.createNew?(n.adnId=i.$route.params.id,n.pubAppId=i.$store.state.publisher.searchApp,r.adnId=n.adnId,r.adnAppId=i.adNetworkAppId,r.pubAppId=n.pubAppId,a.adNetworkAppId?Object(l["j"])(r).then((function(t){0===t.code?(e=Object.assign(e,t.data),e.expandStatus=!1,e.createNew=!1,a.handleOpen(r),a.$message.success("create instance success")):a.$message.error("create instance error")})):Object(l["a"])(n).then((function(t){0===t.code?(a.adNetworkAppId=t.data.id,r.adnAppId=a.adNetworkAppId,Object(l["j"])(r).then((function(t){0===t.code?(e=Object.assign(e,t.data),e.expandStatus=!1,a.handleOpen(r),a.$message.success("create instance success")):a.$message.error("create instance error")}))):a.$message.error("create adnetwork app error")}))):Object(l["m"])(r).then((function(t){0===t.code?(e=Object.assign(e,r),a.handleOpen(e),a.$message.success("update instance success")):a.$message.error("update instance error")}))}}))},handelInstanceStatusUpdate:function(e){var t=this;if(e.id){var a=0===e.status?1:0;Object(l["l"])({status:a,instanceId:e.id}).then((function(n){0===n.code?(e.status=a,t.$message.success("update instance success")):t.$message.error("update instance error")}))}},instanceAdd:function(e,t){var a=Object(s["a"])(this.list),n=a.find((function(t){return t.id===e.id})),i={id:this.count,name:"",hbStatus:0,frequencyCap:0,status:0,frequencyUnit:1,frequencyInterval:0,brandType:"include",brandList:[],modelType:"include",modelList:[],createNew:!0,expandStatus:!0,placementKey:"",placementId:e.id};if(this.count=this.count-1,n){if(n.instances.unshift(i),this.list=a,this.currentExpandedStatOpen=!0,this.curExpandedRowKeys.length>0){var r=this.curExpandedRowKeys.indexOf(i.id);r>-1?this.curExpandedRowKeys.splice(r,1):this.curExpandedRowKeys.push(i.id)}else this.curExpandedRowKeys.push(i.id);this.$vnode.elm.querySelectorAll(".ant-table-body").forEach((function(e){e.scrollTop=0}))}},handleInstanceCancel:function(e,t){if(e.createNew){var a=Object(s["a"])(this.list),n=a.find((function(e){return e.id===t}));n.instances.splice(n.instances.findIndex((function(t){return t.id===e.id})),1),this.list=a}this.handleOpen(e)},handleChange:function(e){Object.assign(this,{value:e,deviceData:[],fetching:!1})},selectBrand:function(e){var t=this;this.deviceData=[],this.lastFetchId+=1;var a=this.lastFetchId;this.fetching=!0,Object(g["b"])({brand:e}).then((function(e){if(a===t.lastFetchId){var n=Object.keys(e.data).map((function(e){return{text:"".concat(e),value:e}}));t.deviceData=n,t.fetching=!1}}))},selectModel:function(e){var t=this;this.deviceData=[],this.lastFetchId+=1;var a=this.lastFetchId;this.fetching=!0,Object(g["e"])({model:e}).then((function(e){if(a===t.lastFetchId){var n=Object.keys(e.data).map((function(e){return{text:"".concat(e),value:e}}));t.deviceData=n,t.fetching=!1}}))},listSearch:function(){var e=this,t={pubAppId:this.$store.state.publisher.searchApp,adNetworkId:this.$route.params.id};Object(l["e"])(Object.assign(t,this.form.getFieldsValue(["instanceId","placementId"]))).then((function(t){if(0===t.code){var a=[];e.adTypes.forEach((function(e){"RewardedVideo"===e?a.push(2):"Native"===e?a.push(1):"Banner"===e?a.push(0):"Interstitial"===e&&a.push(3)})),t.data=t.data.filter((function(e){return a.includes(e.adType)})),e.arraySort(t.data),e.list=t.data}}))},arraySort:function(e){var t,a=Object(r["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.instances=n.instances.sort((function(e,t){return e.status===t.status?t.createTime-e.createTime:t.status-e.status}))}}catch(i){a.e(i)}finally{a.f()}},resetSearch:function(){this.form.resetFields(["placementId","instanceId"])},placementFilterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0||t.componentOptions.children[1].children[0].text.indexOf(e)>=0},selectPlacementChange:function(e){this.searchOption.placementId=e},instanceFilterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0||t.componentOptions.children[1].children[0].text.indexOf(e)>=0},selectInstanceChange:function(e){this.searchOption.instanceId=e}}},x=A,k=(a("343e"),Object(f["a"])(x,n,i,!1,null,"7f8ffb08",null));t["default"]=k.exports}}]);