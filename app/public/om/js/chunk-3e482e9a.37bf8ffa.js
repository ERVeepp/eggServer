(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e482e9a"],{"00d8":function(e,t){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],a=0,n=0;a<e.length;a++,n+=8)t[n>>>5]|=e[a]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],a=0;a<32*e.length;a+=8)t.push(e[a>>>5]>>>24-a%32&255);return t},bytesToHex:function(e){for(var t=[],a=0;a<e.length;a++)t.push((e[a]>>>4).toString(16)),t.push((15&e[a]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],a=0;a<e.length;a+=2)t.push(parseInt(e.substr(a,2),16));return t},bytesToBase64:function(e){for(var a=[],n=0;n<e.length;n+=3)for(var r=e[n]<<16|e[n+1]<<8|e[n+2],s=0;s<4;s++)8*n+6*s<=8*e.length?a.push(t.charAt(r>>>6*(3-s)&63)):a.push("=");return a.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],n=0,r=0;n<e.length;r=++n%4)0!=r&&a.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|t.indexOf(e.charAt(n))>>>6-2*r);return a}};e.exports=a})()},"044b":function(e,t){function a(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&a(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(a(e)||n(e)||!!e._isBuffer)}},"3ecd":function(e,t,a){"use strict";var n=a("f4ba"),r=a.n(n);r.a},6819:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tabs",{attrs:{tabBarStyle:{backgroundColor:"#F7F7F7",marginLeft:"8px"}}},[e.orgs?a("a-tab-pane",{key:"1",attrs:{tab:"Organization"}},[a("Organizations")],1):e._e(),e.apps?a("a-tab-pane",{key:"2",attrs:{tab:"Apps",forceRender:""}},[a("Apps",{staticStyle:{"margin-top":"16px"}})],1):e._e(),e.users?a("a-tab-pane",{key:"3",attrs:{tab:"Users",forceRender:""}},[a("Users",{staticStyle:{"margin-top":"16px"}})],1):e._e(),e.roles?a("a-tab-pane",{key:"4",attrs:{tab:"Roles",forceRender:""}},[a("div",{staticStyle:{"background-color":"#ffffff"}},[a("Roles",{staticStyle:{"margin-top":"32px"}})],1)]):e._e()],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form,hideRequiredMark:!0}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("AppSelectSimple"),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email"],expression:"['email']"}],staticStyle:{width:"240px","margin-left":"8px"},attrs:{size:"default",placeholder:"Email"}})],1),a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"8px","margin-top":"3px",width:"100px"},attrs:{size:"default",type:"primary",ghost:""},on:{click:e.search}},[e._v("Apply")])],1)],1),a("div",{staticStyle:{"background-color":"#ffffff"}},[a("a-table",{ref:"table",staticClass:"ant-card-table-default",attrs:{rowKey:"id",fixed:"true",loadding:e.loadding,dataSource:e.data,scroll:{y:e.scroll},expandedRowKeys:e.curExpandedRowKeys,columns:e.columns,expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"name",fn:function(e,t){return a("span",{},[a("om-app-info",{attrs:{icon:t.icon,"app-name":t.appName,"app-id":t.appId,plat:t.plat}})],1)}},{key:"status",fn:function(t,n){return a("span",{},[e.canEdit?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleAddUser(n)}}},[e._v("Add User")]):e._e(),n.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])])}},{key:"expandedRowRender",fn:function(t,n){return a("a-table",{ref:n+"table",attrs:{rowKey:"id",fixed:"true",dataSource:t.users,columns:e.columnsUser,pagination:!1},scopedSlots:e._u([{key:"option",fn:function(n,r){return a("span",{},[r.createNew?a("span",[a("UserSelect",{attrs:{name:r.id+"userId",value:r.userId,publisherId:t.publisherId}})],1):a("span",[e._v(e._s(r.email))])])}},{key:"actions",fn:function(t,n){return a("span",{},[e._v(" "+e._s(n.roleName)+" ")])}},{key:"status",fn:function(n,r){return e.canEdit?a("span",{},[r.createNew?a("span",[a("a",{attrs:{herf:"#"},on:{click:function(a){return e.addAppSave(r,t)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}})],1):e._e(),a("a-popconfirm",{attrs:{title:"Are you really sure？",okText:"Yes",cancelText:"No"},on:{confirm:function(a){return e.removeUser(r,t)}}},[a("a",[e._v("Remove")])])],1):e._e()}}],null,!0)})}}])})],1)],1)},i=[],o=(a("c740"),a("c975"),a("a434"),a("d3b7"),a("ac1f"),a("841c"),a("29e2")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name],expression:"[name]"}],staticStyle:{width:"240px"},attrs:{placeholder:"App",size:"default",allowClear:"",showArrow:!1,dropdownMatchSelectWidth:!1}},e._l(e.appList,(function(t){return a("a-select-option",{key:t.id},[a("div",{staticClass:"selected-app-small"},[a("img",{staticStyle:{width:"24px",height:"24px"},attrs:{src:t.icon?t.icon:0===t.plat?"/iOS-40.svg":"/Android-40.svg"}}),a("div",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"8px"}},[a("div",{staticStyle:{color:"#333333","font-size":"12px","line-height":"14px"}},[a("ellipsis",{attrs:{length:26}},[e._v(e._s(t.appName))])],1),a("div",{staticStyle:{color:"#999999","font-size":"10px","line-height":"14px"}},[1===t.plat?a("img",{staticClass:"plat-icon",attrs:{src:"/Android-40.svg"}}):a("img",{staticClass:"plat-icon",attrs:{src:"/iOS-40.svg"}}),a("ellipsis",{attrs:{length:30}},[e._v(e._s(t.appId))])],1)])])])})),1)],1)},c=[],l=(a("a9e3"),a("2af9")),u=a("283f"),p={name:"AppSelectSimple",props:{name:{type:String,required:!1,default:"pubAppId"},userId:{type:Number,default:null},publisherId:{type:Number,default:null}},components:{Ellipsis:l["a"]},data:function(){return{appList:{},selected:""}},watch:{userId:function(e){this.search()},publisherId:function(e){this.search()}},methods:{search:function(){var e=this,t={userId:this.userId,status:1,publisherId:this.publisherId};Object(u["a"])(t).then((function(t){e.appList=t.data}))}},created:function(){this.search()}},h=p,f=(a("6f89"),a("2877")),m=Object(f["a"])(h,d,c,!1,null,"37d18661",null),v=m.exports,y=a("00ce"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[this.value?a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value}],expression:"[name, {initialValue: value}]"}],staticStyle:{width:"260px"},attrs:{placeholder:"User",showArrow:!1,size:"default"}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.email}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.email))])],1)})),1):a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name],expression:"[name]"}],staticStyle:{width:"260px"},attrs:{placeholder:"User",size:"default"}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.email}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.email))])],1)})),1)],1)},w=[],x={name:"OmUserSelect",components:{Ellipsis:l["a"]},data:function(){return{data:[]}},props:{name:{type:String,default:"userId"},value:{type:Number,default:null},publisherId:{type:Number,default:null}},methods:{search:function(){var e=this;Object(o["r"])({publisherId:this.publisherId}).then((function(t){0===t.code&&(e.data=t.data)}))}},watch:{publisherId:function(e){this.search()}},created:function(){this.search()}},b=x,S=Object(f["a"])(b,g,w,!1,null,"7690de17",null),_=S.exports,I={name:"UmApps",components:{AppSelectSimple:v,OmAppInfo:y["a"],UserSelect:_},data:function(){return{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}},form:this.$form.createForm(this),canEdit:this.$auth("um_apps.edit"),name:"",count:-100,loadding:!1,scroll:500,curExpandedRowKeys:[],currentExpandedStatOpen:!1,data:[],columns:[{title:"App",dataIndex:"name",width:"80%",scopedSlots:{customRender:"name"}},{title:"Operations",dataIndex:"status",scopedSlots:{customRender:"status"}}],columnsUser:[{title:"",width:"20%"},{title:"User",dataIndex:"title",width:"30%",scopedSlots:{customRender:"option"}},{title:"Role",width:"30%",dataIndex:"actions",scopedSlots:{customRender:"actions"}},{title:"",dataIndex:"id",width:"15%",scopedSlots:{customRender:"status"}},{title:"",dataIndex:"pid"}]}},mounted:function(){this.scroll=window.innerHeight-294,this.search()},methods:{search:function(){var e=this;this.loadding=!0;var t={userId:this.$store.state.user.info.id};t=Object.assign(t,this.form.getFieldsValue(["pubAppId","email"])),Object(o["i"])(t).then((function(t){0===t.code&&(e.data=t.data)})).finally((function(){e.loading=!1}))},removeUser:function(e,t){if(e.createNew)t.users.splice(t.users.findIndex((function(t){return t.id===e.id})),1);else{var a={pubAppId:t.id,userId:e.id};Object(o["h"])(a).then((function(a){0===a.code&&t.users.splice(t.users.findIndex((function(t){return t.id===e.id})),1)}))}},addAppSave:function(e,t){var a=this,n={pubAppId:t.id},r=this.form.getFieldsValue([e.id+"userId"]);if(n.userId=r[e.id+"userId"],t.users.findIndex((function(e){return e.id===n.userId}))>0)return this.$message.error("User already exists"),!1;Object(o["g"])(n).then((function(t){0===t.code?(e.id=t.data.userId,e.createNew=!1,Object.assign(e,t.data)):a.$message.error(t.msg)}))},handleOpen:function(e,t){if(!t||!e.expandStatus)if(e["expandStatus"]=!e["expandStatus"],this.currentExpandedStatOpen=!this.currentExpandedStatOpen,this.curExpandedRowKeys.length>0){var a=this.curExpandedRowKeys.indexOf(e.id);a>-1?this.curExpandedRowKeys.splice(a,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},handleAddUser:function(e){this.handleOpen(e,"edit");var t={id:this.count,name:"",hbStatus:0,createNew:!0};this.count--,e.users.unshift(t)}}},E=I,O=Object(f["a"])(E,s,i,!1,null,"51723eb2",null),R=O.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{form:e.form,layout:"inline"}},[e.canAdd?a("a-row",{attrs:{gutter:48}},[a("a-col",[a("span",{staticClass:"table-page-search-submitButtons",style:{float:"right",overflow:"hidden",marginTop:"12px",marginBottom:"12px"}||{}},[a("a-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.addOrganizations()}}},[e._v("Add Organization")])],1)])],1):e._e(),a("div",{staticStyle:{"background-color":"#ffffff"}},[a("a-table",{ref:"table",staticClass:"ant-card-table-default",attrs:{rowKey:"id",fixed:"true",dataSource:e.data,scroll:{y:e.scroll},expandedRowKeys:e.curExpandedRowKeys,columns:e.columns,expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"status",fn:function(t,n){return a("span",{},[[n.expandStatus?a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleOrgSave(n)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleSceneCancel(n)}}},[e._v("Cancel")])],1):a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleSceneEdit(n)}}},[e._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handelOrgStatusUpdate(n)}}},[e._v(e._s(0===t?"Enable":"Disable"))])],1)]],2)}},{key:"name",fn:function(t,n){return a("span",{},[n.expandStatus?a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"name",{initialValue:n.name,rules:[{required:!0,message:"Name can not be empty."}]}],expression:"[record.id + 'name',{initialValue: record.name,rules: [{ required: true, message: 'Name can not be empty.' }]}]"}],attrs:{placeholder:"name"}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t))])],1)}},{key:"revenueSharing",fn:function(t,n){return a("span",{},[n.expandStatus?a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"revenueSharing",{initialValue:100*n.revenueSharing+"%",rules:[{required:!0,message:"Revenue Share can not be empty."}]}],expression:"[record.id + 'revenueSharing',{initialValue: record.revenueSharing * 100 +'%',rules: [{ required: true, message: 'Revenue Share can not be empty.' }]}]"}],staticStyle:{width:"50%"},attrs:{placeholder:"100.00%"}}),e._v(" / "),a("span",[e._v(e._s(100-100*n.revenueSharing+"%"))])],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(100*n.revenueSharing+"%"))])],1)}},{key:"email",fn:function(t,n){return a("span",{},[n.expandStatus&&1===n.roleId?a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"email",{initialValue:n.email,rules:[{required:!0,message:"Email can not be empty."},{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"Incorrect mailbox format"}]}],expression:"[record.id + 'email',{initialValue: record.email,rules: [{ required: true, message: 'Email can not be empty.' }, {\n                pattern: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/,\n                message: 'Incorrect mailbox format',\n              }]}]"}],attrs:{placeholder:"email"}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t))])],1)}},{key:"phone",fn:function(t,n){return a("span",{},[n.expandStatus?a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"phone",{initialValue:n.phone}],expression:"[record.id + 'phone',{initialValue: record.phone}]"}],attrs:{placeholder:"phone"}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t))])],1)}}])})],1)],1)],1)},k=[],U=(a("4de4"),a("b0c0"),a("5530")),N={name:"UmUsers",components:{},data:function(){var e=[{title:"Name",dataIndex:"name",width:"20%",scopedSlots:{customRender:"name"}},{title:"Revenue Share",dataIndex:"revenueSharing",width:"20%",scopedSlots:{customRender:"revenueSharing"}},{title:"Owner",dataIndex:"email",width:"20%",scopedSlots:{customRender:"email"}},{title:"Contact Info",dataIndex:"phone",width:"20%",scopedSlots:{customRender:"phone"}},{title:"Operations",dataIndex:"status",width:"20%",scopedSlots:{customRender:"status"}}],t=this.$auth("um_orgs.edit");return t||e.pop(),{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}},form:this.$form.createForm(this),canAdd:this.$auth("um_orgs.add"),canEdit:this.$auth("um_orgs.edit"),count:-1,params:{},name:"",curExpandedRowKeys:[],currentExpandedStatOpen:!1,data:[],deviceData:[],lastFetchId:0,scroll:500,value:[],fetching:!1,columns:e}},mounted:function(){this.scroll=window.innerHeight-270,this.search()},methods:{search:function(){var e=this;Object(o["a"])().then((function(t){e.arraySort(t.data),e.data=t.data}))},handleOrgSave:function(e){var t=this,a=this.form.validateFields;a((function(a,n){if(!a){var r=Object(U["a"])({},e);r.name=n[e.id+"name"],r.email=n[e.id+"email"];var s=n[e.id+"revenueSharing"].substring(0,n[e.id+"revenueSharing"].length-1);r.revenueSharing=s/100,r.phone=n[e.id+"phone"],e.createNew?Object(o["d"])(r).then((function(a){0===a.code?(t.$store.commit("UPDATESELECTLIST",(new Date).getTime()),e.expandStatus=!1,e.createNew=!1,t.search(),t.handleExpand(r),t.$message.success("create Organizations success")):t.$message.error("create Organizations error")})):(r.id=e.id,Object(o["e"])(r).then((function(a){0===a.code?(t.$store.commit("UPDATESELECTLIST",(new Date).getTime()),t.$message.success("update Organizations success"),e.expandStatus=!1,t.search(),t.handleExpand(r)):t.$message.error("update Organizations error")})))}}))},handleExpand:function(e){if(e["expandStatus"]=!e["expandStatus"],this.curExpandedRowKeys.length>0){var t=this.curExpandedRowKeys.indexOf(e.id);t>-1?this.curExpandedRowKeys.splice(t,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},handleSceneEdit:function(e){var t=this.data.filter((function(t){return e.id===t.id}))[0];if(t&&(t["expandStatus"]=!0),this.curExpandedRowKeys.length>0){var a=this.curExpandedRowKeys.indexOf(e.id);a>-1?this.curExpandedRowKeys.splice(a,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},handleSceneCancel:function(e){this.currentExpandedStatOpen=!this.currentExpandedStatOpen;var t=this.data.filter((function(t){return e.id===t.id}))[0];t["expandStatus"]=!1,this.curExpandedRowKeys.splice(0,this.curExpandedRowKeys.length),e.createNew&&this.data.shift()},addOrganizations:function(){var e={id:this.count,name:"",expandStatus:!0,email:"",roleId:1,revenueSharing:"",phone:"",createNew:!0};if(this.count--,this.data.unshift(e),this.currentExpandedStatOpen=!0,this.curExpandedRowKeys.length>0){var t=this.curExpandedRowKeys.indexOf(e.id);t>-1?this.curExpandedRowKeys.splice(t,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},handelOrgStatusUpdate:function(e){var t=this;Object(o["e"])(Object.assign(e,{status:0===e.status?1:0})).then((function(e){0===e.code?(t.arraySort(t.data),t.$store.commit("UPDATESELECTLIST",(new Date).getTime()),t.$message.success("update success")):t.$message.error(e.msg)}))},arraySort:function(e){e=e.sort((function(e,t){return e.status===t.status?t.id-e.id:t.status-e.status}))}}},C=N,K=(a("751e"),Object(f["a"])(C,A,k,!1,null,"2851a99e",null)),j=K.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form",{attrs:{form:e.form,hideRequiredMark:!0,autocomplete:"off"}},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("AppSelectSimple"),a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email"],expression:"['email']"}],staticStyle:{width:"224px","margin-left":"8px"},attrs:{size:"default",placeholder:"Email",autocomplete:"off"}})],1),a("RoleSelect",{staticStyle:{"margin-left":"8px"}}),a("a-form-item",[a("a-button",{staticStyle:{"margin-left":"8px",width:"100px"},attrs:{size:"default",type:"primary",ghost:""},on:{click:e.searchTable}},[e._v("Apply")])],1),e.canAdd?a("a-form-item",{staticStyle:{position:"absolute",right:"0"}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary",size:"default",disabled:this.curExpandedRowKeys.length>0},on:{click:function(t){return e.handleAddUser()}}},[e._v("Add User")])],1)]):e._e()],1),a("div",{staticStyle:{"background-color":"#ffffff"}},[a("a-table",{ref:"table",staticClass:"ant-card-table-default",attrs:{rowKey:"key",fixed:"true",dataSource:e.data,scroll:{y:e.scroll},expandedRowKeys:e.curExpandedRowKeys,columns:e.columns,expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"status",fn:function(t,n){return a("span",{},[[a("div",[n.expandStatus?a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleUserSave(n)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}}),1!==n.roleId&&20!==n.roleId&&20===e.currentUserRole?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleAddUserApp(n)}}},[e._v("Add App")]):e._e(),1!==n.roleId&&20!==n.roleId&&20===e.currentUserRole?a("a-divider",{attrs:{type:"vertical"}}):e._e(),a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleUserCancel(n)}}},[e._v("Cancel")]),n.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])],1):n.createPassword?a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.setPassword(n)}}},[e._v("Save")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleUserCancel(n)}}},[e._v("Cancel")])],1):a("div",[n.id===e.currentUserId===1&&e.canEdit||n.id===e.currentUserId&&e.canEdit?a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handlePassword(n)}}},[e._v("Password")])]):n.id!==e.currentUserId||e.canEdit?1===e.currentUserRole?a("div",[1!==n.id?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleUserEdit(n)}}},[e._v("Edit")]):e._e(),1!==n.id?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1!==n.id?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handlePassword(n)}}},[e._v("Password")]):e._e(),1!==n.id?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1!==n.id?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handelUserStatusUpdate(n)}}},[e._v(e._s(0===t?"Enable":"Disable"))]):e._e(),1!==n.id?a("a-divider",{attrs:{type:"vertical"}}):e._e(),1!==n.id?a("a-popconfirm",{attrs:{title:"Are you really sure？",okText:"Yes",cancelText:"No"},on:{confirm:function(t){return e.handleDelete(n)}}},[a("a",{attrs:{herf:"#"}},[e._v("Remove")])]):e._e(),n.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])],1):a("div",[n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit?e._e():a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleUserEdit(n)}}},[e._v("Edit")]),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit?e._e():a("a-divider",{attrs:{type:"vertical"}}),n.isPublisherOwner&&1!==e.currentUserId&&n.id!==e.currentUserId?e._e():a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handlePassword(n)}}},[e._v("Password")]),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit?e._e():a("a-divider",{attrs:{type:"vertical"}}),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit?e._e():a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handelUserStatusUpdate(n)}}},[e._v(e._s(0===t?"Enable":"Disable"))]),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit||n.id===e.currentUserId?e._e():a("a-divider",{attrs:{type:"vertical"}}),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit||n.id===e.currentUserId?e._e():a("a-popconfirm",{attrs:{title:"Are you really sure？",okText:"Yes",cancelText:"No"},on:{confirm:function(t){return e.handleDelete(n)}}},[a("a",{attrs:{herf:"#"}},[e._v("Remove")])]),n.isPublisherOwner&&1!==e.currentUserId||!e.canEdit?e._e():a("span",[n.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])])],1):a("div",[a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handlePassword(n)}}},[e._v("Password")])])])])]],2)}},{key:"email",fn:function(t,n){return a("span",{},[[n.expandStatus&&e.canEdit?a("a-form-item",[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[n.id+"email",{initialValue:n.email,rules:[{required:!0,message:"Email can not be empty."},{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"Incorrect mailbox format"}]}],expression:"[record.id + 'email',{initialValue: record.email,rules: [{ required: true, message: 'Email can not be empty.' }, {\n                pattern: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/,\n                message: 'Incorrect mailbox format',\n              }]}]"}],staticStyle:{width:"220px"},attrs:{placeholder:"email"},on:{input:function(t){return e.selectEmail(n)}}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t))])]],2)}},{key:"publisherName",fn:function(t,n){return a("span",{},[[n.expandStatus&&e.canEdit&&1!==n.roleId?a("a-form-item",[a("OrgSelectSimple",{attrs:{name:n.id+"orgId",value:n.publisherId,userId:n.id},on:{change:function(t){return e.orgChange(n)}}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t||"--"))])]],2)}},{key:"roleName",fn:function(t,n){return a("span",{},[[n.expandStatus&&e.canEdit&&n.roleEdit?a("a-form-item",[a("RoleSelect",{attrs:{name:n.id+"roleId",value:n.roleId},on:{change:function(t){return e.roleChange(t,n)}}})],1):a("span",{style:0===n.status?"opacity: 0.3;":null},[e._v(e._s(t))])]],2)}},{key:"expandedRowRender",fn:function(t,n){return t.createPassword?a("p",{staticStyle:{margin:"0 auto","text-align":"center"}},[a("a-form-item",{staticStyle:{"margin-bottom":"16px",display:"inline-flex","margin-left":"53px"},attrs:{colon:!1,label:"New Password"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"password1",{initialValue:"",rules:[{required:!0,message:"Password can not be empty."}]}],expression:"[record.id+'password1',{initialValue: '',rules: [{ required: true, message: 'Password can not be empty.' }]}]"}],staticStyle:{width:"300px"},attrs:{type:"password",autocomplete:"new-password"}})],1),a("br"),a("a-form-item",{staticStyle:{"margin-bottom":"16px",display:"inline-flex"},attrs:{type:"password",label:"Confirm New Password",colon:!1}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[t.id+"password2",{initialValue:"",rules:[{required:!0,message:"Password can not be empty."},{validator:e.compareToFirstPassword}]}],expression:"[record.id+'password2',{initialValue: '',rules: [{ required: true, message: 'Password can not be empty.' },{validator: compareToFirstPassword}]}]"}],staticStyle:{width:"300px"},attrs:{type:"password"}})],1)],1):a("a-table",{directives:[{name:"show",rawName:"v-show",value:1!==t.roleId&&20!==t.roleId,expression:"record.roleId!==1 && record.roleId!==20"}],ref:n+"table",attrs:{rowKey:"id",columns:e.innerColumns,dataSource:t.publisherApps,pagination:!1},scopedSlots:e._u([{key:"appName",fn:function(e,n){return a("span",{},[n.createNew?a("AppSelectSimple",{attrs:{name:n.id+"appId",userId:t.id,publisherId:t.publisherId}}):a("om-app-info",{attrs:{icon:n.icon,"app-name":n.appName,"app-id":n.appId,plat:n.plat}})],1)}},{key:"operation",fn:function(n,r){return t.expandStatus?a("span",{},[[e.canEdit&&20===e.currentUserRole?a("div",[a("a-popconfirm",{attrs:{title:"Are you really sure？",okText:"Yes",cancelText:"No"},on:{confirm:function(a){return e.handelAppDelete(r,t)}}},[a("a",{attrs:{herf:"#"}},[e._v("Remove")])])],1):e._e()]],2):e._e()}}],null,!0)})}}],null,!0)})],1)],1)},$=[],z=(a("4160"),a("5319"),a("159b"),a("b85c")),P=a("2909"),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[this.value?a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value}],expression:"[name, {initialValue: value}]"}],staticStyle:{width:"260px"},attrs:{placeholder:"Role",size:"default",allowClear:"",showArrow:!1},on:{change:e.change}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.name))])],1)})),1):a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name],expression:"[name]"}],staticStyle:{width:"260px"},attrs:{placeholder:"Role",size:"default",allowClear:"",showArrow:!1},on:{change:e.change}},e._l(e.data,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.name))])],1)})),1)],1)},V=[],D={name:"OmRoleSelect",components:{Ellipsis:l["a"]},data:function(){return{data:[]}},props:{name:{type:String,default:"roleId"},value:{type:Number,default:null}},methods:{change:function(e){this.$emit("change",e)}},created:function(){var e=this;Object(o["q"])().then((function(t){0===t.code&&(e.data=t.data)}))}},F=D,B=Object(f["a"])(F,q,V,!1,null,"6af50c46",null),L=B.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-item",[this.value?a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:!0,message:"Organization can not be empty."}]}],expression:"[name, {initialValue: value, rules: [{ required: true, message: 'Organization can not be empty.'}]}]"}],attrs:{placeholder:"Organization",size:"default",showArrow:!1},on:{change:e.change}},e._l(this.pubList,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.name))])],1)})),1):a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{rules:[{required:!0,message:"Organization can not be empty."}]}],expression:"[name, {rules: [{ required: true, message: 'Organization can not be empty.'}]}]"}],attrs:{placeholder:"Organization",size:"default",showArrow:!1},on:{change:e.change}},e._l(this.pubList,(function(t){return a("a-select-option",{key:t.id,attrs:{title:t.name}},[a("ellipsis",{attrs:{length:25,tooltip:""}},[e._v(e._s(t.name))])],1)})),1)],1)},M=[],H={name:"OmOrgSelect",components:{Ellipsis:l["a"]},data:function(){return{pubList:[]}},created:function(){this.updateSelectList()},props:{name:{type:String,default:"orgId"},value:{type:Number,default:null},record:{type:Object,default:null},userId:{type:Number,default:null}},methods:{updateSelectList:function(){var e=this;Object(o["b"])({userId:this.userId}).then((function(t){0===t.code&&t.data.length&&(e.pubList=t.data)}))},change:function(){this.$emit("change",this.record)}}},Y=H,W=Object(f["a"])(Y,Z,M,!1,null,"7d583bfb",null),J=W.exports,G=a("6821"),Q=a.n(G),X={name:"UmUsers",components:{OmAppInfo:y["a"],AppSelectSimple:v,RoleSelect:L,OrgSelectSimple:J},data:function(){return{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}},form:this.$form.createForm(this),name:"",currentUserId:this.$store.state.user.info.id,currentUserRole:this.$store.state.user.info.roleId,curExpandedRowKeys:[],currentExpandedStatOpen:!1,canAdd:this.$auth("um_users.add"),canEdit:this.$auth("um_users.edit"),number:-1,data:[],value:[],userCount:-100,appCount:-200,scroll:500,columns:[{title:"Email",dataIndex:"email",width:"20%",scopedSlots:{customRender:"email"}},{title:"Organizations",dataIndex:"publisherName",width:"20%",scopedSlots:{customRender:"publisherName"}},{title:"Role",dataIndex:"roleName",width:"20%",scopedSlots:{customRender:"roleName"}},{title:"Operations",dataIndex:"status",scopedSlots:{customRender:"status"}}],innerColumns:[{title:"",width:"20%"},{title:"App",dataIndex:"appName",width:"30%",key:"appName",scopedSlots:{customRender:"appName"}},{title:"Operations",dataIndex:"operation",key:"operation",width:"30%",scopedSlots:{customRender:"operation"}},{title:"",width:"20%"}],tempObj:{}}},mounted:function(){this.scroll=window.innerHeight-294,this.searchTable()},methods:{searchTable:function(){var e=this,t=this.form.validateFields,a={};t&&t((function(t,n){t||(a.email=n["email"],a.pubAppId=n["pubAppId"],a.roleId=n["roleId"],Object(o["m"])(a).then((function(t){0===t.code&&(t.data.forEach((function(t){t.key=e.number,t.roleEdit=!0,e.number--})),e.arraySort(t.data),e.data=t.data)})))}))},orgChange:function(e){this.tempObj[e.id]?e.publisherApps=this.tempObj[e.id]:(this.tempObj[e.id]=Object(P["a"])(e.publisherApps),e.publisherApps.splice(0,e.publisherApps.length))},roleChange:function(e,t){t.roleId=e},compareToFirstPassword:function(e,t,a){var n=this.form;t&&t!==n.getFieldValue(e.field.replace("password2","password1"))?a(new Error("Two passwords that you enter is inconsistent!")):a()},setPassword:function(e){var t=this,a=this.form.validateFields;a((function(a,n){if(!a){var r={id:e.id},s=n[e.id+"password1"];r.password=Q()(s),Object(o["c"])(r).then((function(a){0===a.code&&(t.$message.success("update success"),e.expandStatus=!1,e.createPassword=!1,t.handleOpen(e),t.searchTable())}))}}))},handleUserSave:function(e){var t=this,a=this.form.validateFields;a((function(a,n){if(!a){var r=Object(U["a"])({},e),s={};r.roleId=n[e.id+"roleId"],s.userId=e.id,r.publisherId=n[e.id+"orgId"],e.createNew?(r.email=n[e.id+"email"],Object(o["j"])(r).then((function(s){if(0===s.code){t.$message.success("create User success"),t.handleOpen(r),e.expandStatus=!1;var i,d=Object(z["a"])(e.publisherApps);try{var c=function(){var e=i.value,t={};t.userId=s.data.id,t.pubAppId=n[e.id+"appId"],Object(o["g"])(t).then((function(t){e.createNew=!1}))};for(d.s();!(i=d.n()).done;)c()}catch(a){d.e(a)}finally{d.f()}t.searchTable()}else t.$message.error("create user error")}))):Object(o["s"])(r).then((function(s){if(0===s.code){var i,d=Object(z["a"])(e.publisherApps);try{var c=function(){var t=i.value;if(t.createNew){var a={};a.userId=e.id,a.pubAppId=n[t.id+"appId"],Object(o["g"])(a).then((function(e){t.createNew=!1}))}};for(d.s();!(i=d.n()).done;)c()}catch(a){d.e(a)}finally{d.f()}t.$message.success("update user success"),e.expandStatus=!1,t.handleOpen(r),t.searchTable()}}))}}))},handleUserEdit:function(e){e.editStatus=!0,e.createPassword=!1,this.handleOpen(e,!0)},handleOpen:function(e,t){if(!t||!e.expandStatus)if(e["expandStatus"]=!e["expandStatus"],this.curExpandedRowKeys.length>0){var a=this.curExpandedRowKeys.indexOf(e.key);a>-1?this.curExpandedRowKeys.splice(a,1):this.curExpandedRowKeys.push(e.key)}else this.curExpandedRowKeys.push(e.key)},handlePassword:function(e){if(e.createPassword=!0,this.curExpandedRowKeys.length>0){var t=this.curExpandedRowKeys.indexOf(e.key);t>-1?this.curExpandedRowKeys.splice(t,1):this.curExpandedRowKeys.push(e.key)}else this.curExpandedRowKeys.push(e.key)},handleDelete:function(e){var t=this,a={};a.userId=e.id,a.roleId=e.roleId,a.publisherId=e.publisherId,Object(o["k"])(a).then((function(a){0===a.code?(t.$message.success("remove user success"),t.data.splice(t.data.findIndex((function(t){return t.id===e.id})),1)):t.$message.error("remove user error")}))},handleUserCancel:function(e){var t=Object(P["a"])(this.data);this.currentExpandedStatOpen=!this.currentExpandedStatOpen;var a=t.filter((function(t){return e.key===t.key}))[0];a["expandStatus"]=!1,a["editStatus"]=!1,a["createPassword"]=!1,this.data=t,this.curExpandedRowKeys.splice(0,this.curExpandedRowKeys.length),e.createNew&&this.data.shift()},handleAddUser:function(){var e={publisherId:null,id:this.userCount,key:this.userCount,email:"",expandStatus:!1,organizations:"",roleId:null,roleEdit:!0,createNew:!0,publisherApps:[]};this.userCount--,this.data.unshift(e),this.handleOpen(e)},handleAddUserApp:function(e){var t={id:this.appCount,appId:null,createNew:!0};this.appCount--,e.publisherApps.unshift(t)},handelAppDelete:function(e,t){var a=this;if(e.createNew)t.publisherApps.splice(t.publisherApps.findIndex((function(t){return t.id===e.id})),1);else{var n={userId:t.id,pubAppId:e.id};Object(o["h"])(n).then((function(n){0===n.code?(a.$message.success("delete success"),t.publisherApps.splice(t.publisherApps.findIndex((function(t){return t.id===e.id})),1)):a.$message.error(n.msg)}))}},handelUserStatusUpdate:function(e){var t=this,a=0===e.status?1:0;Object(o["s"])({id:e.id,status:a}).then((function(n){0===n.code?(e.status=a,t.arraySort(t.data),t.$message.success("update success")):t.$message.error(n.msg)}))},arraySort:function(e){e=e.sort((function(e,t){return e.status===t.status?t.createTime-e.createTime:t.status-e.status}))},selectEmail:function(e){var t=this.form.validateFields,a={};t&&t((function(t,n){t||(a.email=n[e.id+"email"],Object(o["l"])(a).then((function(t){0===t.code&&t.data?(e.roleName=t.data.roleName,e.roleEdit=!1):(e.roleName="",e.roleEdit=!0)})))}))}}},ee=X,te=Object(f["a"])(ee,T,$,!1,null,null,null),ae=te.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{ref:"table",staticClass:"ant-card-table-default",attrs:{rowKey:"id",fixed:"true",loadding:e.loadding,dataSource:e.data,expandedRowKeys:e.curExpandedRowKeys,columns:e.columns,scroll:{y:e.scroll},expandIconAsCell:!1,expandIconColumnIndex:-1,pagination:!1},scopedSlots:e._u([{key:"status",fn:function(t,n){return a("span",{},[e.canEdit?a("a",{attrs:{herf:"#"},on:{click:function(t){return e.handleOpen(n)}}},[e._v("Edit")]):e._e(),n.expandStatus?a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/up.svg"}})]):a("span",{staticStyle:{float:"right"},on:{click:function(t){return e.handleOpen(n)}}},[a("img",{attrs:{src:"/assets/down.svg"}})])])}},{key:"expandedRowRender",fn:function(t,n){return a("a-table",{ref:n+"table",staticClass:"prem-table",attrs:{rowKey:"id",fixed:"true",dataSource:t.permissions,columns:e.columnsPage,pagination:!1},scopedSlots:e._u([{key:"actions",fn:function(n,r){return a("span",{},[e.canEdit?a("span",[a("span",{style:n.includes("add")?null:"opacity: 0.3;"},[a("a",{on:{click:function(a){return e.rulePremUpdate("add",r,t.id)}}},[e._v("Add")])]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:n.includes("edit")?null:"opacity: 0.3;"},[a("a",{on:{click:function(a){return e.rulePremUpdate("edit",r,t.id)}}},[e._v("Edit")])]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:n.includes("view")?null:"opacity: 0.3;"},[a("a",{on:{click:function(a){return e.rulePremUpdate("view",r,t.id)}}},[e._v("View")])]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:r.actions.length>0?"opacity: 0.3;":null},[a("a",{on:{click:function(a){return e.rulePremUpdate("none",r,t.id)}}},[e._v("None")])])],1):a("span",[a("span",{style:n.includes("add")?null:"opacity: 0.3;"},[e._v("Add")]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:n.includes("edit")?null:"opacity: 0.3;"},[e._v("Edit")]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:n.includes("view")?null:"opacity: 0.3;"},[e._v("View")]),a("a-divider",{attrs:{type:"vertical"}}),a("span",{style:r.actions.length>0?"opacity: 0.3;":null},[e._v("None")])],1)])}}])})}}])})},re=[],se=(a("caad"),a("2532"),{name:"Roles",components:{},data:function(){return{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}},form:this.$form.createForm(this),visible:!1,confirmLoading:!1,currentStep:0,name:"",queryParam:{},scroll:500,loadding:!1,curExpandedRowKeys:[],curExpandedRowData:{},currentExpandedStatOpen:!1,canEdit:this.$auth("um_roles.edit"),data:[],value:[],columns:[{title:"Role",dataIndex:"name",width:"80%",scopedSlots:{customRender:"name"}},{title:"Operations",dataIndex:"status",scopedSlots:{customRender:"status"}}],columnsPage:[{title:"",width:"25%"},{title:"Page",dataIndex:"title",width:"30%",scopedSlots:"title"},{title:"Permissions",dataIndex:"actions",scopedSlots:{customRender:"actions"}}]}},mounted:function(){var e=this;this.scroll=window.innerHeight-294,this.loadding=!0,Object(o["n"])().then((function(t){0===t.code&&(e.data=t.data)})).finally((function(){e.loading=!1}))},methods:{rulePremUpdate:function(e,t,a){var n=t.actions.indexOf(e),r={roleId:a,permissionName:t.name,permissionType:e};if("none"===e){if(!t.actions.length)return!1;Object(o["p"])(r).then((function(e){0===e.code&&t.actions.splice(0,t.actions.length)}))}else n>-1?("view"===e&&(r.permissionType="none"),Object(o["p"])(r).then((function(a){0===a.code&&("view"===e?t.actions.splice(0,t.actions.length):t.actions.splice(n,1))}))):Object(o["o"])(r).then((function(a){0===a.code&&(("edit"===e||"add"===e&&!t.actions.includes("view"))&&t.actions.push("view"),t.actions.push(e))}))},handleOpen:function(e){if(e["expandStatus"]=!e["expandStatus"],this.currentExpandedStatOpen=!this.currentExpandedStatOpen,this.curExpandedRowKeys.length>0){var t=this.curExpandedRowKeys.indexOf(e.id);t>-1?this.curExpandedRowKeys.splice(t,1):this.curExpandedRowKeys.push(e.id)}else this.curExpandedRowKeys.push(e.id)},handleSceneCancel:function(e){var t=Object(P["a"])(this.data);if(this.curExpandedRowData.id){this.currentExpandedStatOpen=!this.currentExpandedStatOpen;var a=this.curExpandedRowData.id,n=t.filter((function(e){return a===e.id}))[0];n["expandStatus"]=!1,this.data=t,this.curExpandedRowKeys.splice(0,this.curExpandedRowKeys.length),this.curExpandedRowData={},e.createNew&&this.data.shift()}},rolePremissionCreate:function(e){Object(o["o"])(e).then((function(t){0===t.code&&(e=t.data)}))},rolePremissionDelete:function(e){Object(o["p"])(e).then((function(t){0===t.code&&(e=t.data)}))}}}),ie=se,oe=(a("a5a7"),Object(f["a"])(ie,ne,re,!1,null,"01aac414",null)),de=oe.exports,ce={name:"UserManage",components:{Apps:R,Organizations:j,Users:ae,Roles:de},data:function(){return{labelCol:{lg:{span:4},sm:{span:4}},wrapperCol:{lg:{span:19},sm:{span:19}},apps:this.$auth("um_apps.query"),users:this.$auth("um_users.query"),roles:this.$auth("um_roles.query"),orgs:this.$auth("um_orgs.query")}}},le=ce,ue=(a("3ecd"),Object(f["a"])(le,n,r,!1,null,"0e5df186",null));t["default"]=ue.exports},6821:function(e,t,a){(function(){var t=a("00d8"),n=a("9a634").utf8,r=a("044b"),s=a("9a634").bin,i=function(e,a){e.constructor==String?e=a&&"binary"===a.encoding?s.stringToBytes(e):n.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var o=t.bytesToWords(e),d=8*e.length,c=1732584193,l=-271733879,u=-1732584194,p=271733878,h=0;h<o.length;h++)o[h]=16711935&(o[h]<<8|o[h]>>>24)|4278255360&(o[h]<<24|o[h]>>>8);o[d>>>5]|=128<<d%32,o[14+(d+64>>>9<<4)]=d;var f=i._ff,m=i._gg,v=i._hh,y=i._ii;for(h=0;h<o.length;h+=16){var g=c,w=l,x=u,b=p;c=f(c,l,u,p,o[h+0],7,-680876936),p=f(p,c,l,u,o[h+1],12,-389564586),u=f(u,p,c,l,o[h+2],17,606105819),l=f(l,u,p,c,o[h+3],22,-1044525330),c=f(c,l,u,p,o[h+4],7,-176418897),p=f(p,c,l,u,o[h+5],12,1200080426),u=f(u,p,c,l,o[h+6],17,-1473231341),l=f(l,u,p,c,o[h+7],22,-45705983),c=f(c,l,u,p,o[h+8],7,1770035416),p=f(p,c,l,u,o[h+9],12,-1958414417),u=f(u,p,c,l,o[h+10],17,-42063),l=f(l,u,p,c,o[h+11],22,-1990404162),c=f(c,l,u,p,o[h+12],7,1804603682),p=f(p,c,l,u,o[h+13],12,-40341101),u=f(u,p,c,l,o[h+14],17,-1502002290),l=f(l,u,p,c,o[h+15],22,1236535329),c=m(c,l,u,p,o[h+1],5,-165796510),p=m(p,c,l,u,o[h+6],9,-1069501632),u=m(u,p,c,l,o[h+11],14,643717713),l=m(l,u,p,c,o[h+0],20,-373897302),c=m(c,l,u,p,o[h+5],5,-701558691),p=m(p,c,l,u,o[h+10],9,38016083),u=m(u,p,c,l,o[h+15],14,-660478335),l=m(l,u,p,c,o[h+4],20,-405537848),c=m(c,l,u,p,o[h+9],5,568446438),p=m(p,c,l,u,o[h+14],9,-1019803690),u=m(u,p,c,l,o[h+3],14,-187363961),l=m(l,u,p,c,o[h+8],20,1163531501),c=m(c,l,u,p,o[h+13],5,-1444681467),p=m(p,c,l,u,o[h+2],9,-51403784),u=m(u,p,c,l,o[h+7],14,1735328473),l=m(l,u,p,c,o[h+12],20,-1926607734),c=v(c,l,u,p,o[h+5],4,-378558),p=v(p,c,l,u,o[h+8],11,-2022574463),u=v(u,p,c,l,o[h+11],16,1839030562),l=v(l,u,p,c,o[h+14],23,-35309556),c=v(c,l,u,p,o[h+1],4,-1530992060),p=v(p,c,l,u,o[h+4],11,1272893353),u=v(u,p,c,l,o[h+7],16,-155497632),l=v(l,u,p,c,o[h+10],23,-1094730640),c=v(c,l,u,p,o[h+13],4,681279174),p=v(p,c,l,u,o[h+0],11,-358537222),u=v(u,p,c,l,o[h+3],16,-722521979),l=v(l,u,p,c,o[h+6],23,76029189),c=v(c,l,u,p,o[h+9],4,-640364487),p=v(p,c,l,u,o[h+12],11,-421815835),u=v(u,p,c,l,o[h+15],16,530742520),l=v(l,u,p,c,o[h+2],23,-995338651),c=y(c,l,u,p,o[h+0],6,-198630844),p=y(p,c,l,u,o[h+7],10,1126891415),u=y(u,p,c,l,o[h+14],15,-1416354905),l=y(l,u,p,c,o[h+5],21,-57434055),c=y(c,l,u,p,o[h+12],6,1700485571),p=y(p,c,l,u,o[h+3],10,-1894986606),u=y(u,p,c,l,o[h+10],15,-1051523),l=y(l,u,p,c,o[h+1],21,-2054922799),c=y(c,l,u,p,o[h+8],6,1873313359),p=y(p,c,l,u,o[h+15],10,-30611744),u=y(u,p,c,l,o[h+6],15,-1560198380),l=y(l,u,p,c,o[h+13],21,1309151649),c=y(c,l,u,p,o[h+4],6,-145523070),p=y(p,c,l,u,o[h+11],10,-1120210379),u=y(u,p,c,l,o[h+2],15,718787259),l=y(l,u,p,c,o[h+9],21,-343485551),c=c+g>>>0,l=l+w>>>0,u=u+x>>>0,p=p+b>>>0}return t.endian([c,l,u,p])};i._ff=function(e,t,a,n,r,s,i){var o=e+(t&a|~t&n)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},i._gg=function(e,t,a,n,r,s,i){var o=e+(t&n|a&~n)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},i._hh=function(e,t,a,n,r,s,i){var o=e+(t^a^n)+(r>>>0)+i;return(o<<s|o>>>32-s)+t},i._ii=function(e,t,a,n,r,s,i){var o=e+(a^(t|~n))+(r>>>0)+i;return(o<<s|o>>>32-s)+t},i._blocksize=16,i._digestsize=16,e.exports=function(e,a){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(i(e,a));return a&&a.asBytes?n:a&&a.asString?s.bytesToString(n):t.bytesToHex(n)}})()},"6f89":function(e,t,a){"use strict";var n=a("9cfa"),r=a.n(n);r.a},"751e":function(e,t,a){"use strict";var n=a("8563"),r=a.n(n);r.a},8563:function(e,t,a){},"9a634":function(e,t){var a={utf8:{stringToBytes:function(e){return a.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(a.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],a=0;a<e.length;a++)t.push(255&e.charCodeAt(a));return t},bytesToString:function(e){for(var t=[],a=0;a<e.length;a++)t.push(String.fromCharCode(e[a]));return t.join("")}}};e.exports=a},"9cfa":function(e,t,a){},a5a7:function(e,t,a){"use strict";var n=a("bdbc"),r=a.n(n);r.a},b85c:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");var n=a("06c5");function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(n["a"])(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==r["return"]||r["return"]()}finally{if(o)throw s}}}}},bdbc:function(e,t,a){},f4ba:function(e,t,a){}}]);